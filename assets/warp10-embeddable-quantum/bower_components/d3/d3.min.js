!function(){function _e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function jt(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function Ht(e,n){return n>e?-1:e>n?1:e>=n?0:NaN}function Bt(e){return null===e?NaN:+e}function Un(e){return!isNaN(e)}function e(a){return{left:function(n,t,e,l){for(3>arguments.length&&(e=0),4>arguments.length&&(l=n.length);l>e;){var r=e+l>>>1;0>a(n[r],t)?e=r+1:l=r}return e},right:function(n,t,e,l){for(3>arguments.length&&(e=0),4>arguments.length&&(l=n.length);l>e;){var r=e+l>>>1;0<a(n[r],t)?l=r:e=r+1}return e}}}function Er(e){return e.length}function Lr(e){for(var n=1;e*n%1;)n*=10;return n}function t(a,n){for(var t in n)Object.defineProperty(a.prototype,t,{value:n[t],enumerable:!1})}function Rr(){this._=Object.create(null)}function a(e){return(e+="")===xo||e[0]===bo?bo+e:e}function l(e){return(e+="")[0]===bo?e.slice(1):e}function n(e){return a(e)in this._}function r(e){return(e=a(e))in this._&&delete this._[e]}function i(){var e=[];for(var n in this._)e.push(l(n));return e}function o(){var e=0;for(var n in this._)++e;return e}function s(){for(var e in this._)return!1;return!0}function u(){this._=Object.create(null)}function Pr(e){return e}function c(a,n,t){return function(){var e=t.apply(n,arguments);return e===n?a:e}}function y(a,n){if(n in a)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var t,l=0,e=_o.length;e>l;++l)if(t=_o[l]+n,t in a)return t}function f(){}function x(){}function _(a){function n(){for(var e,n=l,r=-1,i=n.length;++r<i;)(e=n[r].on)&&e.apply(this,arguments);return a}var l=[],e=new Rr;return n.on=function(n,t){var r,d=e.get(n);return 2>arguments.length?d&&d.on:(d&&(d.on=null,l=l.slice(0,r=l.indexOf(d)).concat(l.slice(r+1)),e.remove(n)),t&&l.push(e.set(n,{on:t})),a)},n}function w(){Ms.event.preventDefault()}function S(){for(var e,n=Ms.event;e=n.sourceEvent;)n=e;return n}function Dr(a){for(var n=new x,t=0,e=arguments.length;++t<e;)n[arguments[t]]=_(n);return n.of=function(t,e){return function(l){try{var r=l.sourceEvent=Ms.event;l.target=a,Ms.event=l,n[l.type].apply(t,e)}finally{Ms.event=r}}},n}function k(e){return So(e,Ao),e}function E(e){return"function"==typeof e?e:function(){return ko(e,this)}}function A(e){return"function"==typeof e?e:function(){return No(e,this)}}function C(a,n){return a=Ms.ns.qualify(a),null==n?a.local?function(){this.removeAttributeNS(a.space,a.local)}:function(){this.removeAttribute(a)}:"function"==typeof n?a.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(a):this.setAttribute(a,t)}:a.local?function(){this.setAttributeNS(a.space,a.local,n)}:function(){this.setAttribute(a,n)}}function z(e){return e.trim().replace(/\s+/g," ")}function L(e){return new RegExp("(?:^|\\s+)"+Ms.requote(e)+"(?:\\s+|$)","g")}function M(e){return(e+"").trim().split(/^|\s+/)}function T(a,n){function l(){for(var t=-1;++t<o;)a[t](this,n)}function e(){for(var t=-1,e=n.apply(this,arguments);++t<o;)a[t](this,e)}a=M(a).map(R);var o=a.length;return"function"==typeof n?e:l}function R(a){var n=L(a);return function(t,e){if(l=t.classList)return e?l.add(a):l.remove(a);var l=t.getAttribute("class")||"";e?(n.lastIndex=0,n.test(l)||t.setAttribute("class",z(l+" "+a))):t.setAttribute("class",z(l.replace(n," ")))}}function N(a,n,l){return null==n?function(){this.style.removeProperty(a)}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(a):this.style.setProperty(a,e,l)}:function(){this.style.setProperty(a,n,l)}}function P(a,n){return null==n?function(){delete this[a]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[a]:this[a]=t}:function(){this[a]=n}}function U(a){function e(){var n=this.ownerDocument,l=this.namespaceURI;return l===Co&&n.documentElement.namespaceURI===Co?n.createElement(a):n.createElementNS(l,a)}return"function"==typeof a?a:(a=Ms.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,a.local)}:e}function j(){var e=this.parentNode;e&&e.removeChild(this)}function D(e){return{__data__:e}}function q(e){return function(){return Eo(this,e)}}function H(a){return arguments.length||(a=Ht),function(n,l){return n&&l?a(n.__data__,l.__data__):!n-!l}}function F(l,n){for(var t=0,e=l.length;e>t;t++)for(var r,i=l[t],d=0,o=i.length;o>d;d++)(r=i[d])&&n(r,d,t);return l}function Y(e){return So(e,Ns),e}function O(d){var n,t;return function(e,r,i){var s,o=d[i].update,a=o.length;for(i!=t&&(t=i,n=0),r>=n&&(n=r+1);!(s=o[n])&&++n<a;);return s}}function I(d,n,t){function e(){var e=this[s];e&&(this.removeEventListener(d,e,e.$),delete this[s])}function r(){var l=a(n,lo(arguments));e.call(this),this.addEventListener(d,this[s]=l,l.$=t),l._=n}var s="__on"+d,i=d.indexOf("."),a=Z;0<i&&(d=d.slice(0,i));var l=qo.get(d);return l&&(d=l,a=V),i?n?r:e:n?f:function(){var n,t=new RegExp("^__on([^.]+)"+Ms.requote(d)+"$");for(var e in this)if(n=e.match(t)){var a=this[e];this.removeEventListener(n[1],a,a.$),delete this[e]}}}function Z(e,n){return function(t){var a=Ms.event;Ms.event=t,n[0]=this.__data__;try{e.apply(this,n)}finally{Ms.event=a}}}function V(a,n){var l=Z(a,n);return function(e){var n=this,t=e.relatedTarget;t&&(t===n||8&t.compareDocumentPosition(n))||l.call(n,e)}}function X(t){var e=".dragsuppress-"+ ++Ro,n="click"+e,l=Ms.select(jt(t)).on("touchmove"+e,w).on("dragstart"+e,w).on("selectstart"+e,w);if(null==To&&(To=!("onselectstart"in t)&&y(t.style,"userSelect")),To){var r=_e(t).style,i=r[To];r[To]="none"}return function(a){if(l.on(e,null),To&&(r[To]=i),a){var o=function(){l.on(n,null)};l.on(n,function(){w(),o()},!0),setTimeout(o,0)}}}function B(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var l=e.createSVGPoint();if(0>Do){var r=jt(t);if(r.scrollX||r.scrollY){e=Ms.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=e[0][0].getScreenCTM();Do=!(i.f||i.e),e.remove()}}return Do?(l.x=n.pageX,l.y=n.pageY):(l.x=n.clientX,l.y=n.clientY),l=l.matrixTransform(t.getScreenCTM().inverse()),[l.x,l.y]}var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}function W(){return Ms.event.changedTouches[0].identifier}function $(e){return 0<e?1:0>e?-1:0}function G(a,n,t){return(n[0]-a[0])*(t[1]-a[1])-(n[1]-a[1])*(t[0]-a[0])}function J(e){return 1<e?0:-1>e?Ps:Ts(e)}function Q(e){return 1<e?Ho:-1>e?-Ho:Ls(e)}function K(e){return((e=zs(e))-1/e)/2}function en(e){return((e=zs(e))+1/e)/2}function tn(e){return((e=zs(2*e))-1)/(e+1)}function nn(e){return(e=As(e/2))*e}function rn(){}function an(a,l,r){return this instanceof an?(this.h=+a,this.s=+l,void(this.l=+r)):2>arguments.length?a instanceof an?new an(a.h,a.s,a.l):vn(""+a,_n,an):new an(a,l,r)}function ln(a,n,t){function e(e){return 360<e?e-=360:0>e&&(e+=360),60>e?r+(i-r)*e/60:180>e?i:240>e?r+(i-r)*(240-e)/60:r}function l(t){return Cs(255*e(t))}var r,i;return a=isNaN(a)?0:0>(a%=360)?a+360:a,n=isNaN(n)?0:0>n?0:1<n?1:n,t=0>t?0:1<t?1:t,i=.5>=t?t*(1+n):t+n-t*n,r=2*t-i,new yn(l(a+120),l(a),l(a-120))}function on(a,l,r){return this instanceof on?(this.h=+a,this.c=+l,void(this.l=+r)):2>arguments.length?a instanceof on?new on(a.h,a.c,a.l):a instanceof sn?pn(a.l,a.a,a.b):pn((a=bn((a=Ms.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new on(a,l,r)}function un(a,n,t){return isNaN(a)&&(a=0),isNaN(n)&&(n=0),new sn(t,ks(a*=Ds)*n,As(a)*n)}function sn(a,l,r){return this instanceof sn?(this.l=+a,this.a=+l,void(this.b=+r)):2>arguments.length?a instanceof sn?new sn(a.l,a.a,a.b):a instanceof on?un(a.h,a.c,a.l):bn((a=yn(a)).r,a.g,a.b):new sn(a,l,r)}function hn(a,n,t){var e=(a+16)/116,l=e+n/500,r=e-t/200;return l=gn(l)*Qo,e=gn(e)*na,r=gn(r)*ta,new yn(dn(3.2404542*l-1.5371385*e-.4985314*r),dn(-.969266*l+1.8760108*e+.041556*r),dn(.0556434*l-.2040259*e+1.0572252*r))}function pn(a,n,t){return 0<a?new on(Es(t,n)*Yo,ws(n*n+t*t),a):new on(NaN,NaN,a)}function gn(e){return .206893034<e?e*e*e:(e-4/29)/7.787037}function cn(e){return .008856<e?Ss(e,1/3):7.787037*e+4/29}function dn(e){return Cs(255*(.00304>=e?12.92*e:1.055*Ss(e,1/2.4)-.055))}function yn(a,l,r){return this instanceof yn?(this.r=~~a,this.g=~~l,void(this.b=~~r)):2>arguments.length?a instanceof yn?new yn(a.r,a.g,a.b):vn(""+a,yn,ln):new yn(a,l,r)}function mn(e){return new yn(e>>16,255&e>>8,255&e)}function fn(e){return mn(e)+""}function xn(e){return 16>e?"0"+bs(0,e).toString(16):vs(255,e).toString(16)}function vn(d,n,t){var e,r,i,s=0,o=0,a=0;if(e=/([a-z]+)\((.*)\)/.exec(d=d.toLowerCase()))switch(r=e[2].split(","),e[1]){case"hsl":return t(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return n(wn(r[0]),wn(r[1]),wn(r[2]));}return(i=ia.get(d))?n(i.r,i.g,i.b):(null==d||"#"!==d.charAt(0)||isNaN(i=parseInt(d.slice(1),16))||(4===d.length?(s=(3840&i)>>4,s=s>>4|s,o=240&i,o=o>>4|o,a=15&i,a=a<<4|a):7===d.length&&(s=(16711680&i)>>16,o=(65280&i)>>8,a=255&i)),n(s,o,a))}function _n(d,n,t){var e,r,i=vs(d/=255,n/=255,t/=255),s=bs(d,n,t),o=s-i,a=(s+i)/2;return o?(r=.5>a?o/(s+i):o/(2-s-i),e=d==s?(n-t)/o+(t>n?6:0):n==s?(t-d)/o+2:(d-n)/o+4,e*=60):(e=NaN,r=0<a&&1>a?0:e),new an(e,r,a)}function bn(a,n,t){a=Sn(a),n=Sn(n),t=Sn(t);var e=cn((.4124564*a+.3575761*n+.1804375*t)/Qo),l=cn((.2126729*a+.7151522*n+.072175*t)/na),r=cn((.0193339*a+.119192*n+.9503041*t)/ta);return sn(116*l-16,500*(e-l),200*(l-r))}function Sn(e){return .04045>=(e/=255)?e/12.92:Ss((e+.055)/1.055,2.4)}function wn(e){var n=parseFloat(e);return"%"===e.charAt(e.length-1)?Cs(2.55*n):n}function kn(e){return"function"==typeof e?e:function(){return e}}function En(a){return function(n,t,l){return 2===arguments.length&&"function"==typeof t&&(l=t,t=null),An(n,t,a,l)}}function An(d,s,t,e){function n(){var e,n=a.status;if(!n&&zn(a)||200<=n&&300>n||304===n){try{e=t.call(g,a)}catch(e){return void p.error.call(g,e)}p.load.call(g,e)}else p.error.call(g,a)}var g={},p=Ms.dispatch("beforesend","progress","load","error"),o={},a=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(d)||(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=n:a.onreadystatechange=function(){3<a.readyState&&n()},a.onprogress=function(e){var n=Ms.event;Ms.event=e;try{p.progress.call(g,a)}finally{Ms.event=n}},g.header=function(e,n){return e=(e+"").toLowerCase(),2>arguments.length?o[e]:(null==n?delete o[e]:o[e]=n+"",g)},g.mimeType=function(e){return arguments.length?(s=null==e?null:e+"",g):s},g.responseType=function(e){return arguments.length?(l=e,g):l},g.response=function(e){return t=e,g},["get","post"].forEach(function(e){g[e]=function(){return g.send.apply(g,[e].concat(lo(arguments)))}}),g.send=function(t,e,h){if(2===arguments.length&&"function"==typeof e&&(h=e,e=null),a.open(t,d,!0),null==s||"accept"in o||(o.accept=s+",*/*"),a.setRequestHeader)for(var n in o)a.setRequestHeader(n,o[n]);return null!=s&&a.overrideMimeType&&a.overrideMimeType(s),null!=l&&(a.responseType=l),null!=h&&g.on("error",h).on("load",function(e){h(null,e)}),p.beforesend.call(g,a),a.send(null==e?null:e),g},g.abort=function(){return a.abort(),g},Ms.rebind(g,p,"on"),null==e?g:g.get(Cn(e))}function Cn(a){return 1===a.length?function(n,t){a(null==n?t:null)}:a}function zn(e){var n=e.responseType;return n&&"text"!==n?e.response:e.responseText}function Ln(a,l,t){var e=arguments.length;2>e&&(l=0),3>e&&(t=Date.now());var r=t+l,o={c:a,t:r,n:null};return oa?oa.n=o:ua=o,oa=o,aa||(la=clearTimeout(la),aa=1,ca(Mn)),o}function Mn(){var e=Tn(),n=Rn()-e;24<n?(isFinite(n)&&(clearTimeout(la),la=setTimeout(Mn,n)),aa=0):(aa=1,ca(Mn))}function Tn(){for(var e=Date.now(),n=ua;n;)e>=n.t&&n.c(e-n.t)&&(n.c=null),n=n.n;return e}function Rn(){for(var a,n=ua,t=1/0;n;)n.c?(n.t<t&&(t=n.t),n=(a=n).n):n=a?a.n=n.n:ua=n.n;return oa=a,t}function Nn(e,n){return n-(e?fs(_s(e)/xs):1)}function Pn(a){var E=a.decimal,d=a.thousands,e=a.grouping,t=a.currency,C=e&&d?function(r,n){for(var t=r.length,i=[],s=0,o=e[0],a=0;0<t&&0<o&&(a+o+1>n&&(o=bs(1,n-a)),i.push(r.substring(t-=o,t+o)),!((a+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(d)}:Pr;return function(i){var n=sa.exec(i),u=n[1]||" ",r=n[2]||">",o=n[3]||"-",e=n[4]||"",a=n[5],A=+n[6],f=n[7],s=n[8],h=n[9],p=1,g="",v="",d=!1,l=!0;switch(s&&(s=+s.substring(1)),(a||"0"===u&&"="===r)&&(a=u="0",r="="),h){case"n":f=!0,h="g";break;case"%":p=100,v="%",h="f";break;case"p":p=100,v="%",h="r";break;case"b":case"o":case"x":case"X":"#"===e&&(g="0"+h.toLowerCase());case"c":l=!1;case"d":d=!0,s=0;break;case"s":p=-1,h="r";}"$"===e&&(g=t[0],v=t[1]),"r"!=h||s||(h="g"),null!=s&&("g"==h?s=bs(1,vs(21,s)):"e"!=h&&"f"!=h||(s=bs(0,vs(20,s)))),h=ha.get(h)||jn;var y=a&&f;return function(t){var m=v;if(d&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===o?"":o;if(0>p){var i=Ms.formatPrefix(t,s);t=i.scale(t),m=i.symbol+v}else t*=p;t=h(t,s);var z,x,b=t.lastIndexOf(".");if(0>b){var _=l?t.lastIndexOf("e"):-1;0>_?(z=t,x=""):(z=t.substring(0,_),x=t.substring(_))}else z=t.substring(0,b),x=E+t.substring(b+1);!a&&f&&(z=C(z,1/0));var w=g.length+z.length+x.length+(y?0:e.length),S=A>w?Array(w=A-w+1).join(u):"";return y&&(z=C(S+z,S.length?A-x.length:1/0)),e+=g,t=z+x,("<"===r?e+t+S:">"===r?S+e+t:"^"===r?S.substring(0,w>>=1)+e+t+S.substring(w):e+(y?t:S+t))+m}}}function jn(e){return e+""}function Dn(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function qn(a,d,t){function e(l){var t=a(l),e=n(t,1);return e-l>l-t?t:e}function s(t){return d(t=a(new ga(t-1)),1),t}function n(t,a){return d(t=new ga(+t),a),t}function i(e,n,l){var r=s(e),i=[];if(1<l)for(;n>r;)t(r)%l||i.push(new Date(+r)),d(r,1);else for(;n>r;)i.push(new Date(+r)),d(r,1);return i}a.floor=a,a.round=e,a.ceil=s,a.offset=n,a.range=i;var r=a.utc=Hn(a);return r.floor=r,r.round=Hn(e),r.ceil=Hn(s),r.offset=Hn(n),r.range=function(a,n,t){try{ga=Dn;var e=new Dn;return e._=a,i(e,n,t)}finally{ga=Date}},a}function Hn(a){return function(n,t){try{ga=Dn;var e=new Dn;return e._=n,a(e,t)._}finally{ga=Date}}}function Fn(a){function l(d){function e(r){for(var s,e,i,g=[],o=-1,a=0;++o<n;)37===d.charCodeAt(o)&&(g.push(d.slice(a,o)),null!=(e=da[s=d.charAt(++o)])&&(s=d.charAt(++o)),(i=S[s])&&(s=i(r,null==e?"e"===s?" ":"0":e)),g.push(s),a=o+1);return g.push(d.slice(a,o)),g.join("")}var n=d.length;return e.parse=function(e){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},n=c(t,d,e,0);if(n!=e.length)return null;"p"in t&&(t.H=t.H%12+12*t.p);var a=null!=t.Z&&ga!==Dn,l=new(a?Dn:ga);return"j"in t?l.setFullYear(t.y,0,t.j):"W"in t||"U"in t?("w"in t||(t.w="W"in t?1:0),l.setFullYear(t.y,0,1),l.setFullYear(t.y,0,"W"in t?(t.w+6)%7+7*t.W-(l.getDay()+5)%7:t.w+7*t.U-(l.getDay()+6)%7)):l.setFullYear(t.y,t.m,t.d),l.setHours(t.H+(0|t.Z/100),t.M+t.Z%100,t.S,t.L),a?l._:l},e.toString=function(){return d},e}function c(d,n,t,s){for(var r,i,g,o=0,a=n.length,l=t.length;a>o;){if(s>=l)return-1;if(r=n.charCodeAt(o++),37===r){if(g=n.charAt(o++),i=w[g in da?n.charAt(o++):g],!i||0>(s=i(d,t,s)))return-1;}else if(r!=t.charCodeAt(s++))return-1}return s}function e(a,n,t){m.lastIndex=0;var e=m.exec(n.slice(t));return e?(a.w=f.get(e[0].toLowerCase()),t+e[0].length):-1}var t=a.dateTime,n=a.date,i=a.time,o=a.periods,s=a.days,g=a.shortDays,d=a.months,p=a.shortMonths;l.utc=function(t){function n(a){try{ga=Dn;var n=new ga;return n._=a,e(n)}finally{ga=Date}}var e=l(t);return n.parse=function(a){try{ga=Dn;var n=e.parse(a);return n&&n._}finally{ga=Date}},n.toString=e.toString,n},l.multi=l.utc.multi=dd;var h=Ms.map(),u=On(s),y=In(s),m=On(g),f=In(g),x=On(d),_=In(d),v=On(p),b=In(p);o.forEach(function(e,n){h.set(e.toLowerCase(),n)});var S={a:function(e){return g[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return p[e.getMonth()]},B:function(e){return d[e.getMonth()]},c:l(t),d:function(e,n){return Yn(e.getDate(),n,2)},e:function(e,n){return Yn(e.getDate(),n,2)},H:function(e,n){return Yn(e.getHours(),n,2)},I:function(e,n){return Yn(e.getHours()%12||12,n,2)},j:function(e,n){return Yn(1+pa.dayOfYear(e),n,3)},L:function(e,n){return Yn(e.getMilliseconds(),n,3)},m:function(e,n){return Yn(e.getMonth()+1,n,2)},M:function(e,n){return Yn(e.getMinutes(),n,2)},p:function(e){return o[+(12<=e.getHours())]},S:function(e,n){return Yn(e.getSeconds(),n,2)},U:function(e,n){return Yn(pa.sundayOfYear(e),n,2)},w:function(e){return e.getDay()},W:function(e,n){return Yn(pa.mondayOfYear(e),n,2)},x:l(n),X:l(i),y:function(e,n){return Yn(e.getFullYear()%100,n,2)},Y:function(e,n){return Yn(e.getFullYear()%1e4,n,4)},Z:id,"%":function(){return"%"}},w={a:e,A:function(a,n,t){u.lastIndex=0;var e=u.exec(n.slice(t));return e?(a.w=y.get(e[0].toLowerCase()),t+e[0].length):-1},b:function(a,n,t){v.lastIndex=0;var e=v.exec(n.slice(t));return e?(a.m=b.get(e[0].toLowerCase()),t+e[0].length):-1},B:function(a,n,t){x.lastIndex=0;var e=x.exec(n.slice(t));return e?(a.m=_.get(e[0].toLowerCase()),t+e[0].length):-1},c:function(e,n,t){return c(e,S.c.toString(),n,t)},d:ed,e:ed,H:nd,I:nd,j:td,L:rd,m:Qn,M:ad,p:function(a,n,t){var e=h.get(n.slice(t,t+=2).toLowerCase());return null==e?-1:(a.p=e,t)},S:ld,U:Vn,w:Zn,W:Xn,x:function(e,n,t){return c(e,S.x.toString(),n,t)},X:function(e,n,t){return c(e,S.X.toString(),n,t)},y:so,Y:qr,Z:ho,"%":od};return l}function Yn(a,l,t){var e=0>a?"-":"",r=(e?-a:a)+"",i=r.length;return e+(t>i?Array(t-i+1).join(l)+r:r)}function On(e){return new RegExp("^(?:"+e.map(Ms.requote).join("|")+")","i")}function In(a){for(var n=new Rr,t=-1,e=a.length;++t<e;)n.set(a[t].toLowerCase(),t);return n}function Zn(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+1));return e?(a.w=+e[0],t+e[0].length):-1}function Vn(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t));return e?(a.U=+e[0],t+e[0].length):-1}function Xn(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t));return e?(a.W=+e[0],t+e[0].length):-1}function qr(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+4));return e?(a.y=+e[0],t+e[0].length):-1}function so(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.y=Oo(+e[0]),t+e[0].length):-1}function ho(a,n,l){return /^[+-]\d{4}$/.test(n=n.slice(l,l+5))?(a.Z=-n,l+5):-1}function Oo(e){return e+(68<e?1900:2e3)}function Qn(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.m=e[0]-1,t+e[0].length):-1}function ed(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.d=+e[0],t+e[0].length):-1}function td(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+3));return e?(a.j=+e[0],t+e[0].length):-1}function nd(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.H=+e[0],t+e[0].length):-1}function ad(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.M=+e[0],t+e[0].length):-1}function ld(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.S=+e[0],t+e[0].length):-1}function rd(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+3));return e?(a.L=+e[0],t+e[0].length):-1}function id(a){var n=a.getTimezoneOffset(),t=0<n?"-":"+",e=0|Mo(n)/60,l=Mo(n)%60;return t+Yn(e,"0",2)+Yn(l,"0",2)}function od(a,n,t){ma.lastIndex=0;var e=ma.exec(n.slice(t,t+1));return e?t+e[0].length:-1}function dd(a){for(var n=a.length,t=-1;++t<n;)a[t][0]=this(a[t][0]);return function(n){for(var t=0,e=a[t];!e[1](n);)e=a[++t];return e[0](n)}}function ct(){}function ft(a,n,t){var e=t.s=a+n,l=e-a;t.t=a-(e-l)+(n-l)}function st(e,n){e&&_a.hasOwnProperty(e.type)&&_a[e.type](e,n)}function ht(a,n,t){var e,l=-1,r=a.length-t;for(n.lineStart();++l<r;)e=a[l],n.point(e[0],e[1],e[2]);n.lineEnd()}function pt(a,n){var t=-1,e=a.length;for(n.polygonStart();++t<e;)ht(a[t],n,1);n.polygonEnd()}function gt(){function l(g,p){g*=Ds,p=p*Ds/2+Ps/4;var t=g-d,e=0<=t?1:-1,o=e*t,a=ks(p),l=As(p),u=i*l,c=r*a+u*ks(o),s=u*e*As(o);Sa.add(Es(s,c)),d=g,r=a,i=l}var n,t,d,r,i;ka.point=function(e,o){ka.point=l,d=(n=e)*Ds,r=ks(o=(t=o)*Ds/2+Ps/4),i=As(o)},ka.lineEnd=function(){l(n,t)}}function vt(a){var n=a[0],t=a[1],e=ks(t);return[e*ks(n),e*As(n),As(t)]}function dt(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function yt(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function mt(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function Mt(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function xt(e){var n=ws(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}function bt(e){return[Es(e[1],e[0]),Q(e[2])]}function _t(e,n){return Mo(e[0]-n[0])<Po&&Mo(e[1]-n[1])<Po}function wt(a,n){a*=Ds;var t=ks(n*=Ds);sd(t*ks(a),t*As(a),As(n))}function sd(a,n,t){++Na,Aa+=(a-Aa)/Na,Ca+=(n-Ca)/Na,za+=(t-za)/Na}function kt(){function a(r,s){r*=Ds;var i=ks(s*=Ds),g=i*ks(r),o=i*As(r),a=As(s),l=Es(ws((l=t*a-e*o)*l+(l=e*g-d*a)*l+(l=d*o-t*g)*l),d*g+t*o+e*a);Ea+=l,La+=l*(d+(d=g)),qa+=l*(t+(t=o)),Ta+=l*(e+(e=a)),sd(d,t,e)}var d,t,e;Ua.point=function(n,l){n*=Ds;var r=ks(l*=Ds);d=r*ks(n),t=r*As(n),e=As(l),Ua.point=a,sd(d,t,e)}}function gd(){Ua.point=wt}function pd(){function d(d,u){d*=Ds;var t=ks(u*=Ds),e=t*ks(d),o=t*As(d),a=As(u),l=r*a-i*o,c=i*e-y*a,m=y*o-r*e,s=ws(l*l+c*c+m*m),h=y*e+r*o+i*a,p=s&&-J(h)/s,g=Es(s,h);Ra+=p*l,Da+=p*c,Pa+=p*m,Ea+=g,La+=g*(y+(y=e)),qa+=g*(r+(r=o)),Ta+=g*(i+(i=a)),sd(y,r,i)}var n,t,y,r,i;Ua.point=function(e,o){n=e,t=o,Ua.point=d,e*=Ds;var a=ks(o*=Ds);y=a*ks(e),r=a*As(e),i=As(o),sd(y,r,i)},Ua.lineEnd=function(){d(n,t),Ua.lineEnd=gd,Ua.point=wt}}function At(a,n){function t(t,l){return t=a(t,l),n(t[0],t[1])}return a.invert&&n.invert&&(t.invert=function(t,e){return t=n.invert(t,e),t&&a.invert(t[0],t[1])}),t}function Ct(){return!0}function zt(d,n,t,e,r){var i=[],u=[];if(d.forEach(function(o){if(!(0>=(n=o.length-1))){var n,t=o[0],e=o[n];if(_t(t,e)){r.lineStart();for(var d=0;n>d;++d)r.point((t=o[d])[0],t[1]);return void r.lineEnd()}var a=new qt(t,o,null,!0),l=new qt(t,null,a,!1);a.o=l,i.push(a),u.push(l),a=new qt(e,o,null,!1),l=new qt(e,null,a,!0),a.o=l,i.push(a),u.push(l)}}),u.sort(n),Lt(i),Lt(u),i.length){for(var o=0,a=t,y=u.length;y>o;++o)u[o].e=a=!a;for(var c,m,s=i[0];;){for(var h=s,p=!0;h.v;)if((h=h.n)===s)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var o=0,y=c.length;y>o;++o)r.point((m=c[o])[0],m[1]);else e(h.x,h.n.x,1,r);h=h.n}else{if(p){c=h.p.z;for(var o=c.length-1;0<=o;--o)r.point((m=c[o])[0],m[1])}else e(h.x,h.p.x,-1,r);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);r.lineEnd()}}}function Lt(a){if(n=a.length){for(var n,t,e=0,l=a[0];++e<n;)l.n=t=a[e],t.p=l,l=t;l.n=t=a[0],t.p=l}}function qt(a,n,t,e){this.x=a,this.z=n,this.o=t,this.e=e,this.v=!1,this.n=this.p=null}function Tt(a,n,t,e){return function(_,S){function r(n,t){var e=_(n,t);a(n=e[0],t=e[1])&&S.point(n,t)}function i(a,n){var t=_(a,n);v.point(t[0],t[1])}function u(){y.point=i,v.lineStart()}function w(){y.point=r,v.lineEnd()}function E(a,n){g.push([a,n]);var t=_(a,n);k.point(t[0],t[1])}function f(){k.lineStart(),g=[]}function s(){E(g[0][0],g[0][1]),k.lineEnd();var a,n=k.clean(),t=m.buffer(),e=t.length;if(g.pop(),p.push(g),g=null,e)if(1&n){a=t[0];var l,e=a.length-1,r=-1;if(0<e){for(x||(S.polygonStart(),x=!0),S.lineStart();++r<e;)S.point((l=a[r])[0],l[1]);S.lineEnd()}}else 1<e&&2&n&&t.push(t.pop().concat(t.shift())),h.push(t.filter(Rt))}var h,p,g,v=n(S),d=_.invert(e[0],e[1]),y={point:r,lineStart:u,lineEnd:w,polygonStart:function(){y.point=E,y.lineStart=f,y.lineEnd=s,h=[],p=[]},polygonEnd:function(){y.point=r,y.lineStart=u,y.lineEnd=w,h=Ms.merge(h);var e=Ft(d,p);h.length?(x||(S.polygonStart(),x=!0),zt(h,Pt,e,t,S)):e&&(x||(S.polygonStart(),x=!0),S.lineStart(),t(null,null,1,S),S.lineEnd()),x&&(S.polygonEnd(),x=!1),h=p=null},sphere:function(){S.polygonStart(),S.lineStart(),t(null,null,1,S),S.lineEnd(),S.polygonEnd()}},m=Dt(),k=n(m),x=!1;return y}}function Rt(e){return 1<e.length}function Dt(){var a,n=[];return{lineStart:function(){n.push(a=[])},point:function(n,t){a.push([n,t])},lineEnd:f,buffer:function(){var t=n;return n=[],a=null,t},rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))}}}function Pt(e,n){return(0>(e=e.x)[0]?e[1]-Ho-Po:Ho-e[1])-(0>(n=n.x)[0]?n[1]-Ho-Po:Ho-n[1])}function Ut(a,n,t,e){var l,r,i=As(a-t);return Mo(i)>Po?ms((As(n)*(r=ks(e))*As(t)-As(e)*(l=ks(n))*As(a))/(l*r*i)):(n+e)/2}function Ft(C,n){var t=C[0],e=C[1],r=[As(t),-ks(t),0],i=0,u=0;Sa.reset();for(var o=0,a=n.length;a>o;++o){var l=n[o],c=l.length;if(c)for(var f=l[0],s=f[0],h=f[1]/2+Ps/4,p=As(h),g=ks(h),v=1;;){v===c&&(v=0),C=l[v];var d=C[0],y=C[1]/2+Ps/4,m=As(y),z=ks(y),x=d-s,b=0<=x?1:-1,_=b*x,w=_>Ps,S=p*m;if(Sa.add(Es(S*b*As(_),g*z+S*ks(_))),i+=w?x+b*js:x,w^s>=t^d>=t){var k=yt(vt(f),vt(C));xt(k);var L=yt(r,k);xt(L);var E=(w^0<=x?-1:1)*Q(L[2]);(e>E||e===E&&(k[0]||k[1]))&&(u+=w^0<=x?1:-1)}if(!v++)break;s=d,p=m,g=z,f=C}}return(-Po>i||Po>i&&-Po>Sa)^1&u}function Ot(d){function m(e,n){return ks(e)*ks(n)>s}function t(t){var n,a,o,l,u;return{lineStart:function(){l=o=!1,u=1},point:function(c,s){var h,p=[c,s],g=m(c,s),f=_?g?0:r(c,s):g?r(c+(0>c?Ps:-Ps),s):0;if(!n&&(l=o=g)&&t.lineStart(),g!==o&&(h=x(n,p),(_t(n,h)||_t(p,h))&&(p[0]+=Po,p[1]+=Po,g=m(p[0],p[1]))),g!==o)u=0,g?(t.lineStart(),h=x(p,n),t.point(h[0],h[1])):(h=x(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(i&&n&&_^g){var d;f&a||!(d=x(p,n,!0))||(u=0,_?(t.lineStart(),t.point(d[0][0],d[0][1]),t.point(d[1][0],d[1][1]),t.lineEnd()):(t.point(d[1][0],d[1][1]),t.lineEnd(),t.lineStart(),t.point(d[0][0],d[0][1])))}!g||n&&_t(n,p)||t.point(p[0],p[1]),n=p,o=g,a=f},lineEnd:function(){o&&t.lineEnd(),n=null},clean:function(){return u|(l&&o)<<1}}}function x(h,n,t){var C=vt(h),L=vt(n),i=[1,0,0],o=yt(C,L),a=dt(o,o),l=o[0],c=a-l*l;if(!c)return!t&&h;var T=yt(i,o),p=Mt(i,s*a/c),g=Mt(o,-s*l/c);mt(p,g);var v=T,d=dt(p,v),R=dt(v,v),m=d*d-R*(dt(p,p)-1);if(!(0>m)){var M=ws(m),x=Mt(v,(-d-M)/R);if(mt(x,p),x=bt(x),!t)return x;var b,_=h[0],w=n[0],S=h[1],k=n[1];_>w&&(b=_,_=w,w=b);var N=w-_,E=Mo(N-Ps)<Po;if(!E&&S>k&&(b=S,S=k,k=b),E||Po>N?E?0<S+k^x[1]<(Mo(x[0]-_)<Po?S:k):S<=x[1]&&x[1]<=k:N>Ps^(_<=x[0]&&x[0]<=w)){var U=Mt(v,(-d+M)/R);return mt(U,p),[x,bt(U)]}}}function r(n,t){var e=_?d:Ps-d,a=0;return-e>n?a|=1:n>e&&(a|=2),-e>t?a|=4:t>e&&(a|=8),a}var s=ks(d),_=0<s,i=Mo(s)>Po,e=ge(d,6*Ds);return Tt(m,t,e,_?[0,-d]:[-Ps,d-Ps])}function It(d,n,t,e){return function(r){var i,u=r.a,o=r.b,a=u.x,l=u.y,c=o.x,y=o.y,s=0,h=1,p=c-a,g=y-l;if(i=d-a,p||!(0<i)){if(i/=p,0>p){if(s>i)return;h>i&&(h=i)}else if(0<p){if(i>h)return;i>s&&(s=i)}if(i=t-a,p||!(0>i)){if(i/=p,0>p){if(i>h)return;i>s&&(s=i)}else if(0<p){if(s>i)return;h>i&&(h=i)}if(i=n-l,g||!(0<i)){if(i/=g,0>g){if(s>i)return;h>i&&(h=i)}else if(0<g){if(i>h)return;i>s&&(s=i)}if(i=e-l,g||!(0>i)){if(i/=g,0>g){if(i>h)return;i>s&&(s=i)}else if(0<g){if(s>i)return;h>i&&(h=i)}return 0<s&&(r.a={x:a+s*p,y:l+s*g}),1>h&&(r.b={x:a+h*p,y:l+h*g}),r}}}}}}function Yt(p,n,t,h){function d(e,a){return Mo(e[0]-p)<Po?0<a?0:3:Mo(e[0]-t)<Po?0<a?2:1:Mo(e[1]-n)<Po?0<a?1:0:0<a?3:2}function r(a,n){return e(a.x,n.x)}function e(a,n){var t=d(a,1),e=d(n,1);return t===e?0===t?n[1]-a[1]:1===t?a[0]-n[0]:2===t?a[1]-n[1]:n[0]-a[0]:t-e}return function(o){function a(d){for(var n=0,t=f.length,e=d[1],r=0;t>r;++r)for(var i,s=1,o=f[r],a=o.length,g=o[0];a>s;++s)i=o[s],g[1]<=e?i[1]>e&&0<G(g,i,d)&&++n:i[1]<=e&&0>G(g,i,d)&&--n,g=i;return 0!==n}function l(r,i,a,l){var o=0,g=0;if(null==r||(o=d(r,a))!==(g=d(i,a))||0>e(r,i)^0<a)do l.point(0===o||3===o?p:t,1<o?h:n);while((o=(o+a+4)%4)!==g);else l.point(i[0],i[1])}function i(e,a){return e>=p&&t>=e&&a>=n&&h>=a}function u(e,n){i(e,n)&&o.point(e,n)}function c(a,l){a=bs(-Fa,vs(Fa,a)),l=bs(-Fa,vs(Fa,l));var d=i(a,l);if(f&&v.push([a,l]),w)y=a,m=l,z=d,w=!1,d&&(o.lineStart(),o.point(a,l));else if(d&&T)o.point(a,l);else{var e={a:{x:x,y:L},b:{x:a,y:l}};E(e)?(T||(o.lineStart(),o.point(e.a.x,e.a.y)),o.point(e.b.x,e.b.y),d||o.lineEnd(),S=!1):d&&(o.lineStart(),o.point(a,l),S=!1)}x=a,L=l,T=d}var g,f,v,y,m,z,x,L,T,w,S,k=o,M=Dt(),E=It(p,n,t,h),A={point:u,lineStart:function(){A.point=c,f&&f.push(v=[]),w=!0,T=!1,x=L=NaN},lineEnd:function(){g&&(c(y,m),z&&T&&M.rejoin(),g.push(M.buffer())),A.point=u,T&&o.lineEnd()},polygonStart:function(){o=M,g=[],f=[],S=!0},polygonEnd:function(){o=k,g=Ms.merge(g);var n=a([p,h]),t=S&&n,e=g.length;(t||e)&&(o.polygonStart(),t&&(o.lineStart(),l(null,null,1,o),o.lineEnd()),e&&zt(g,r,n,l,o),o.polygonEnd()),g=f=v=null}};return A}}function Zt(a){var l=0,t=Ps/3,e=oe(a),n=e(l,t);return n.parallels=function(a){return arguments.length?e(l=a[0]*Ps/180,t=a[1]*Ps/180):[180*(l/Ps),180*(t/Ps)]},n}function Vt(a,n){function t(a,n){var t=ws(r-2*l*As(n))/l;return[t*As(a*=l),i-t*ks(a)]}var e=As(a),l=(e+As(n))/2,r=1+e*(2*l-e),i=ws(r)/l;return t.invert=function(a,n){var t=i-n;return[Es(a,t)/l,Q((r-(a*a+t*t)*l*l)/(2*l))]},t}function Xt(){function a(a,r){Oa+=l*a-e*r,e=a,l=r}var n,t,e,l;Xa.point=function(r,i){Xa.point=a,n=e=r,t=l=i},Xa.lineEnd=function(){a(n,t)}}function $t(){function l(e,a){g.push("M",e,",",a,i)}function d(e,n){g.push("M",e,",",n),o.point=s}function s(e,n){g.push("L",e,",",n)}function e(){o.point=l}function t(){g.push("Z")}var i=Wt(4.5),g=[],o={point:l,lineStart:function(){o.point=d},lineEnd:e,polygonStart:function(){o.lineEnd=t},polygonEnd:function(){o.lineEnd=e,o.point=l},pointRadius:function(e){return i=Wt(e),o},result:function(){if(g.length){var e=g.join("");return g=[],e}}};return o}function Wt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Jt(e,n){Aa+=e,Ca+=n,++za}function hd(){function a(e,a){var r=e-l,i=a-t,d=ws(r*r+i*i);La+=d*(l+e)/2,qa+=d*(t+a)/2,Ta+=d,Jt(l=e,t=a)}var l,t;Ba.point=function(e,n){Ba.point=a,Jt(l=e,t=n)}}function ud(){Ba.point=Jt}function cd(){function a(a,i){var t=a-l,e=i-r,d=ws(t*t+e*e);La+=d*(l+a)/2,qa+=d*(r+i)/2,Ta+=d,d=r*a-l*i,Ra+=d*(l+a),Da+=d*(r+i),Pa+=3*d,Jt(l=a,r=i)}var n,t,l,r;Ba.point=function(e,i){Ba.point=a,Jt(n=l=e,t=r=i)},Ba.lineEnd=function(){a(n,t)}}function ne(l){function n(n,a){l.moveTo(n+g,a),l.arc(n,a,g,0,js)}function d(n,t){l.moveTo(n,t),o.point=s}function s(n,t){l.lineTo(n,t)}function e(){o.point=n}function r(){l.closePath()}var g=4.5,o={point:n,lineStart:function(){o.point=d},lineEnd:e,polygonStart:function(){o.lineEnd=r},polygonEnd:function(){o.lineEnd=e,o.point=n},pointRadius:function(e){return g=e,o},result:f};return o}function te(T){function l(a){return(h?e:t)(a)}function t(n){return ie(n,function(t,e){t=T(t,e),n.point(t[0],t[1])})}function e(a){function t(t,n){t=T(t,n),a.point(t[0],t[1])}function i(){m=NaN,w.point=E,a.lineStart()}function E(t,e){var l=vt([t,e]),r=T(t,e);n(m,A,y,x,b,_,m=r[0],A=r[1],y=t,x=l[0],b=l[1],_=l[2],h,a),a.point(m,A)}function u(){w.point=t,a.lineEnd()}function k(){i(),w.point=l,w.lineEnd=c}function l(e,n){E(f=e,s=n),C=m,p=A,g=x,v=b,d=_,w.point=E}function c(){n(m,A,y,x,b,_,C,p,f,g,v,d,h,a),w.lineEnd=u,u()}var f,s,C,p,g,v,d,y,m,A,x,b,_,w={point:t,lineStart:i,lineEnd:u,polygonStart:function(){a.polygonStart(),w.lineStart=k},polygonEnd:function(){a.polygonEnd(),w.lineStart=i}};return w}function n(o,t,e,r,a,l,c,f,s,h,p,g,v,d){var y=c-o,m=f-t,M=y*y+m*m;if(M>4*i&&v--){var x=r+h,b=a+p,_=l+g,w=ws(x*x+b*b+_*_),S=Ls(_/=w),k=Mo(Mo(_)-1)<Po||Mo(e-s)<Po?(e+s)/2:Es(b,x),R=T(k,S),E=R[0],A=R[1],C=E-o,z=A-t,L=m*C-y*z;(L*L/M>i||.3<Mo((y*C+m*z)/M-.5)||u>r*h+a*p+l*g)&&(n(o,t,e,r,a,l,E,A,k,x/=w,b/=w,_,v,d),d.point(E,A),n(E,A,k,x,b,_,c,f,s,h,p,g,v,d))}}var i=.5,u=ks(30*Ds),h=16;return l.precision=function(e){return arguments.length?(h=0<(i=e*e)&&16,l):ws(i)},l}function ee(a){var e=te(function(n,t){return a([n*Yo,t*Yo])});return function(t){return ae(e(t))}}function re(e){this.stream=e}function ie(e,n){return{point:n,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function ue(e){return oe(function(){return e})()}function oe(m){function n(e){return e=o(e[0]*Ds,e[1]*Ds),[e[0]*s+a,l-e[1]*s]}function t(e){return e=o.invert((e[0]-a)/s,(l-e[1])/s),e&&[e[0]*Yo,e[1]*Yo]}function e(){o=At(u=fe(d,y,E),i);var e=i(g,v);return a=h-e[0]*s,l=p+e[1]*s,r()}function r(){return c&&(c.valid=!1,c=null),n}var i,u,o,a,l,c,f=te(function(e,n){return e=i(e,n),[e[0]*s+a,l-e[1]*s]}),s=150,h=480,p=250,g=0,v=0,d=0,y=0,E=0,x=ja,b=Pr,_=null,w=null;return n.stream=function(e){return c&&(c.valid=!1),c=ae(x(u,f(b(e)))),c.valid=!0,c},n.clipAngle=function(e){return arguments.length?(x=null==e?(_=e,ja):Ot((_=+e)*Ds),r()):_},n.clipExtent=function(e){return arguments.length?(w=e,b=e?Yt(e[0][0],e[0][1],e[1][0],e[1][1]):Pr,r()):w},n.scale=function(t){return arguments.length?(s=+t,e()):s},n.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],e()):[h,p]},n.center=function(t){return arguments.length?(g=t[0]%360*Ds,v=t[1]%360*Ds,e()):[g*Yo,v*Yo]},n.rotate=function(t){return arguments.length?(d=t[0]%360*Ds,y=t[1]%360*Ds,E=2<t.length?t[2]%360*Ds:0,e()):[d*Yo,y*Yo,E*Yo]},Ms.rebind(n,f,"precision"),function(){return i=m.apply(this,arguments),n.invert=i.invert&&t,e()}}function ae(a){return ie(a,function(n,t){a.point(n*Ds,t*Ds)})}function le(e,n){return[e,n]}function ce(e,n){return[e>Ps?e-js:-Ps>e?e+js:e,n]}function fe(a,n,t){return a?n||t?At(he(a),pe(n,t)):he(a):n||t?pe(n,t):ce}function se(a){return function(n,t){return n+=a,[n>Ps?n-js:-Ps>n?n+js:n,t]}}function he(e){var a=se(e);return a.invert=se(-e),a}function pe(a,n){function t(o,n){var t=ks(n),g=ks(o)*t,a=As(o)*t,l=As(n),p=l*d+g*r;return[Es(a*i-p*s,g*d-l*r),Q(p*i+a*s)]}var d=ks(a),r=As(a),i=ks(n),s=As(n);return t.invert=function(o,n){var t=ks(n),e=ks(o)*t,a=As(o)*t,l=As(n),g=l*i-a*s;return[Es(a*i+l*s,e*d+g*r),Q(g*d-e*r)]},t}function ge(d,n){var t=ks(d),e=As(d);return function(s,i,g,o){var a=g*n;null==s?(s=d+g*js,i=d-.5*a):(s=ve(t,s),i=ve(t,i),(0<g?i>s:s>i)&&(s+=g*js));for(var l,p=s;0<g?p>i:i>p;p-=a)o.point((l=bt([t,-e*ks(p),-e*As(p)]))[0],l[1])}}function ve(a,n){var t=vt(n);t[0]-=a,xt(t);var e=J(-t[1]);return((0>-t[2]?-e:e)+2*ys-Po)%(2*ys)}function de(a,n,t){var e=Ms.range(a,n-Po,t).concat(n);return function(a){return e.map(function(e){return[a,e]})}}function ye(a,n,t){var e=Ms.range(a,n-Po,t).concat(n);return function(a){return e.map(function(e){return[e,a]})}}function me(e){return e.source}function Me(e){return e.target}function xe(d,n,t,e){var r=ks(n),y=As(n),i=ks(e),o=As(e),a=r*ks(d),l=r*As(d),u=i*ks(t),c=i*As(t),s=2*Ls(ws(nn(e-n)+r*i*nn(t-d))),h=1/As(s),p=s?function(d){var n=As(d*=s)*h,t=As(s-d)*h,e=t*a+n*u,r=t*l+n*c;return[Es(r,e)*Yo,Es(t*y+n*o,ws(e*e+r*r))*Yo]}:function(){return[d*Yo,n*Yo]};return p.distance=s,p}function be(a,l){function t(n,t){var l=ks(n),r=ks(t),i=a(l*r);return[i*r*As(n),i*As(t)]}return t.invert=function(t,n){var e=ws(t*t+n*n),a=l(e),r=As(a),i=ks(a);return[Es(t*r,e*i),Ls(e&&n*r/e)]},t}function we(a,n){function t(a,n){0<d?-Ho+Po>n&&(n=-Ho+Po):n>Ho-Po&&(n=Ho-Po);var t=d/Ss(l(n),i);return[t*As(i*a),d-t*ks(i*a)]}var e=ks(a),l=function(e){return cs(Ps/4+e/2)},i=a===n?As(a):_s(e/ks(n))/_s(l(n)/l(a)),d=e*Ss(l(a),i)/i;return i?(t.invert=function(a,n){var t=d-n,e=$(i)*ws(a*a+t*t);return[Es(a,t)/i,2*ms(Ss(d/e,1/i))-Ho]},t):ke}function Se(a,n){function t(a,n){var t=r-n;return[t*As(l*a),r-t*ks(l*a)]}var e=ks(a),l=a===n?As(a):(e-ks(n))/(n-a),r=e/l+a;return Mo(l)<Po?le:(t.invert=function(a,n){var t=r-n;return[Es(a,t)/l,r-$(l)*ws(a*a+t*t)]},t)}function ke(e,n){return[e,_s(cs(Ps/4+n/2))]}function Ne(a){var d,t=ue(a),e=t.scale,r=t.translate,i=t.clipExtent;return t.scale=function(){var a=e.apply(t,arguments);return a===t?d?t.clipExtent(null):t:a},t.translate=function(){var e=r.apply(t,arguments);return e===t?d?t.clipExtent(null):t:e},t.clipExtent=function(s){var n=i.apply(t,arguments);if(!(n===t))d&&(n=null);else if(d=null==s){var o=Ps*e(),a=r();i([[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]])}return n},t.clipExtent(null)}function Ee(e,a){return[_s(cs(Ps/4+a/2)),-e]}function Ae(e){return e[0]}function Ce(e){return e[1]}function ze(a){for(var n=a.length,t=[0,1],e=2,l=2;n>l;l++){for(;1<e&&0>=G(a[t[e-2]],a[t[e-1]],a[l]);)--e;t[e++]=l}return t.slice(0,e)}function Le(e,n){return e[0]-n[0]||e[1]-n[1]}function qe(a,n,t){return(t[0]-n[0])*(a[1]-n[1])<(t[1]-n[1])*(a[0]-n[0])}function Te(d,n,t,e){var r=d[0],i=t[0],g=n[0]-r,o=e[0]-i,a=d[1],l=t[1],p=n[1]-a,u=e[1]-l,s=(o*(a-l)-u*(r-i))/(u*g-o*p);return[r+s*g,a+s*p]}function Re(a){var n=a[0],t=a[a.length-1];return!(n[0]-t[0]||n[1]-t[1])}function De(){er(this),this.edge=this.site=this.circle=null}function Pe(e){var n=ll.pop()||new De;return n.site=e,n}function Ue(e){$e(e),Fs.remove(e),ll.push(e),er(e)}function je(d){var n=d.circle,t=n.x,g=n.cy,p={x:t,y:g},i=d.P,h=d.N,o=[d];Ue(d);for(var a=i;a.circle&&Mo(t-a.circle.x)<Po&&Mo(g-a.circle.cy)<Po;)i=a.P,o.unshift(a),Ue(a),a=i;o.unshift(a),$e(a);for(var l=h;l.circle&&Mo(t-l.circle.x)<Po&&Mo(g-l.circle.cy)<Po;)h=l.N,o.push(l),Ue(l),l=h;o.push(l),$e(l);var u,c=o.length;for(u=1;c>u;++u)l=o[u],a=o[u-1],Qe(l.edge,a.site,l.site,p);a=o[0],l=o[c-1],l.edge=Ge(a.site,l.site,null,p),Xe(a),Xe(l)}function Fe(_){for(var n,t,b,r,i=_.x,u=_.y,o=Fs._;o;)if(b=He(o,u)-i,b>Po)o=o.L;else{if(r=i-Oe(o,u),!(r>Po)){b>-Po?(n=o.P,t=o):r>-Po?(n=o,t=o.N):n=t=o;break}if(!o.R){n=o;break}o=o.R}var a=Pe(_);if(Fs.insert(n,a),n||t){if(n===t)return $e(n),t=Pe(n.site),Fs.insert(a,t),a.edge=t.edge=Ge(n.site,a.site),Xe(n),void Xe(t);if(!t)return void(a.edge=Ge(n.site,a.site));$e(n),$e(t);var l=n.site,c=l.x,f=l.y,s=_.x-c,h=_.y-f,p=t.site,g=p.x-c,v=p.y-f,d=2*(s*v-h*g),y=s*s+h*h,m=g*g+v*v,S={x:(v*y-h*m)/d+c,y:(s*m-g*y)/d+f};Qe(t.edge,l,p,S),a.edge=Ge(l,_,null,S),t.edge=Ge(_,p,null,S),Xe(n),Xe(t)}}function He(d,n){var t=d.site,e=t.x,r=t.y,i=r-n;if(!i)return e;var g=d.P;if(!g)return-(1/0);t=g.site;var p=t.x,a=t.y,l=a-n;if(!l)return p;var y=p-e,m=1/i-1/l,s=y/l;return m?(-s+ws(s*s-2*m*(y*y/(-2*l)-a+l/2+r-i/2)))/m+e:(e+p)/2}function Oe(a,n){var t=a.N;if(t)return He(t,n);var e=a.site;return e.y===n?e.x:1/0}function Ie(e){this.site=e,this.edges=[]}function Ye(y){for(var n,t,e,r,i,u,o,a,l,c,m=y[0][0],f=y[1][0],x=y[0][1],_=y[1][1],b=Hs,v=b.length;v--;)if(i=b[v],i&&i.prepare())for(o=i.edges,a=o.length,u=0;a>u;)c=o[u].end(),e=c.x,r=c.y,l=o[++u%a].start(),n=l.x,t=l.y,(Mo(e-n)>Po||Mo(r-t)>Po)&&(o.splice(u,0,new nr(Ke(i.site,c,Mo(e-m)<Po&&_-r>Po?{x:m,y:Mo(n-m)<Po?t:_}:Mo(r-_)<Po&&f-e>Po?{x:Mo(t-_)<Po?n:f,y:_}:Mo(e-f)<Po&&r-x>Po?{x:f,y:Mo(n-f)<Po?t:x}:Mo(r-x)<Po&&e-m>Po?{x:Mo(t-x)<Po?n:m,y:x}:null),i.site,null)),++a)}function Ze(e,n){return n.angle-e.angle}function Ve(){er(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xe(x){var n=x.P,t=x.N;if(n&&t){var e=n.site,r=x.site,i=t.site;if(e!==i){var u=r.x,o=r.y,a=e.x-u,l=e.y-o,c=i.x-u,f=i.y-o,s=2*(a*f-l*c);if(!(s>=-Us)){var h=a*a+l*l,p=c*c+f*f,g=(f*h-l*p)/s,_=(a*p-c*h)/s,f=_+o,d=cl.pop()||new Ve;d.arc=x,d.site=r,d.x=g+u,d.y=f+ws(g*g+_*_),d.cy=f,x.circle=d;for(var y=null,m=al._;m;)if(d.y<m.y||d.y===m.y&&d.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}al.insert(y,d),y||(ol=d)}}}}function $e(e){var n=e.circle;n&&(n.P||(ol=n.N),al.remove(n),cl.push(n),er(n),e.circle=null)}function Be(a){for(var n,t=rl,e=It(a[0][0],a[0][1],a[1][0],a[1][1]),l=t.length;l--;)n=t[l],(!We(n,a)||!e(n)||Mo(n.a.x-n.b.x)<Po&&Mo(n.a.y-n.b.y)<Po)&&(n.a=n.b=null,t.splice(l,1))}function We(y,n){var t=y.b;if(t)return!0;var e,r,i=y.a,m=n[0][0],x=n[1][0],_=n[0][1],b=n[1][1],S=y.l,f=y.r,s=S.x,h=S.y,p=f.x,g=f.y,v=(s+p)/2;if(g===h){if(m>v||v>=x)return;if(s>p){if(!i)i={x:v,y:_};else if(i.y>=b)return;t={x:v,y:b}}else{if(!i)i={x:v,y:b};else if(i.y<_)return;t={x:v,y:_}}}else if(e=(s-p)/(g-h),r=(h+g)/2-e*v,-1>e||1<e){if(s>p){if(!i)i={x:(_-r)/e,y:_};else if(i.y>=b)return;t={x:(b-r)/e,y:b}}else{if(!i)i={x:(b-r)/e,y:b};else if(i.y<_)return;t={x:(_-r)/e,y:_}}}else if(g>h){if(!i)i={x:m,y:e*m+r};else if(i.x>=x)return;t={x:x,y:e*x+r}}else{if(!i)i={x:x,y:e*x+r};else if(i.x<m)return;t={x:m,y:e*m+r}}return y.a=i,y.b=t,!0}function Je(e,n){this.l=e,this.r=n,this.a=this.b=null}function Ge(a,n,t,e){var l=new Je(a,n);return rl.push(l),t&&Qe(l,a,n,t),e&&Qe(l,n,a,e),Hs[a.i].edges.push(new nr(l,a,n)),Hs[n.i].edges.push(new nr(l,n,a)),l}function Ke(a,n,t){var e=new Je(a,null);return e.a=n,e.b=t,rl.push(e),e}function Qe(a,n,t,e){a.a||a.b?a.l===t?a.b=e:a.a=e:(a.a=e,a.l=n,a.r=t)}function nr(a,n,t){var e=a.a,l=a.b;this.edge=a,this.site=n,this.angle=t?Es(t.y-n.y,t.x-n.x):a.l===n?Es(l.x-e.x,e.y-l.y):Es(e.x-l.x,l.y-e.y)}function tr(){this._=null}function er(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function rr(a,n){var t=n,e=n.R,l=t.U;l?l.L===t?l.L=e:l.R=e:a._=e,e.U=l,t.U=e,t.R=e.L,t.R&&(t.R.U=t),e.L=t}function ir(a,n){var t=n,e=n.L,l=t.U;l?l.L===t?l.L=e:l.R=e:a._=e,e.U=l,t.U=e,t.L=e.R,t.L&&(t.L.U=t),e.R=t}function ur(e){for(;e.L;)e=e.L;return e}function or(a,n){var t,e,l,r=a.sort(ar).pop();for(rl=[],Hs=Array(a.length),Fs=new tr,al=new tr;;)if(l=ol,r&&(!l||r.y<l.y||r.y===l.y&&r.x<l.x))r.x===t&&r.y===e||(Hs[r.i]=new Ie(r),Fe(r),t=r.x,e=r.y),r=a.pop();else{if(!l)break;je(l.arc)}n&&(Be(n),Ye(n));var d={cells:Hs,edges:rl};return Fs=al=rl=Hs=null,d}function ar(e,n){return n.y-e.y||n.x-e.x}function lr(a,n,t){return(a.x-t.x)*(n.y-a.y)-(a.x-n.x)*(t.y-a.y)}function cr(e){return e.x}function fr(e){return e.y}function sr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(d,n,t,e,r,i){if(!d(n,t,e,r,i)){var s=.5*(t+r),o=.5*(e+i),a=n.nodes;a[0]&&hr(d,a[0],t,e,s,o),a[1]&&hr(d,a[1],s,e,r,o),a[2]&&hr(d,a[2],t,o,s,i),a[3]&&hr(d,a[3],s,o,r,i)}}function pr(d,_,t,e,r,i,u){var n,a=1/0;return function l(o,c,f,s,h){if(!(c>i||f>u||e>s||r>h)){if(p=o.point){var p,g=_-o.x,v=t-o.y,d=g*g+v*v;if(a>d){var y=ws(a=d);e=_-y,r=t-y,i=_+y,u=t+y,n=p}}for(var m=o.nodes,w=.5*(c+s),x=.5*(f+h),b=(t>=x)<<1|_>=w,S=b+4;S>b;++b)if(o=m[3&b])switch(3&b){case 0:l(o,c,f,w,x);break;case 1:l(o,w,f,s,x);break;case 2:l(o,c,x,w,h);break;case 3:l(o,w,x,s,h);}}}(d,e,r,i,u),n}function gr(l,n){l=Ms.rgb(l),n=Ms.rgb(n);var t=l.r,e=l.g,r=l.b,i=n.r-t,d=n.g-e,o=n.b-r;return function(a){return"#"+xn(Cs(t+i*a))+xn(Cs(e+d*a))+xn(Cs(r+o*a))}}function vr(a,n){var t,e={},l={};for(t in a)t in n?e[t]=mr(a[t],n[t]):l[t]=a[t];for(t in n)t in a||(l[t]=n[t]);return function(a){for(t in e)l[t]=e[t](a);return l}}function dr(a,l){return a=+a,l=+l,function(t){return a*(1-t)+l*t}}function yr(d,s){var t,e,n,r=sl.lastIndex=hl.lastIndex=0,i=-1,g=[],a=[];for(d+="",s+="";(t=sl.exec(d))&&(e=hl.exec(s));)(n=e.index)>r&&(n=s.slice(r,n),g[i]?g[i]+=n:g[++i]=n),(t=t[0])===(e=e[0])?g[i]?g[i]+=e:g[++i]=e:(g[++i]=null,a.push({i:i,x:dr(t,e)})),r=hl.lastIndex;return r<s.length&&(n=s.slice(r),g[i]?g[i]+=n:g[++i]=n),2>g.length?a[0]?(s=a[0].x,function(e){return s(e)+""}):function(){return s}:(s=a.length,function(t){for(var n,e=0;s>e;++e)g[(n=a[e]).i]=n.x(t);return g.join("")})}function mr(a,n){for(var t,e=Ms.interpolators.length;0<=--e&&!(t=Ms.interpolators[e](a,n)););return t}function Mr(l,n){var t,e=[],r=[],i=l.length,d=n.length,o=vs(l.length,n.length);for(t=0;o>t;++t)e.push(mr(l[t],n[t]));for(;i>t;++t)r[t]=l[t];for(;d>t;++t)r[t]=n[t];return function(a){for(t=0;o>t;++t)r[t]=e[t](a);return r}}function xr(e){return function(n){return 0>=n?0:1<=n?1:e(n)}}function br(e){return function(n){return 1-e(1-n)}}function yd(e){return function(n){return .5*(.5>n?e(2*n):2-e(2-2*n))}}function md(e){return e*e}function Sr(e){return e*e*e}function kr(a){if(0>=a)return 0;if(1<=a)return 1;var n=a*a,t=n*a;return 4*(.5>a?t:3*(a-n)+t-.75)}function fd(e){return 1-ks(e*Ho)}function Ar(e){return Ss(2,10*(e-1))}function Cr(e){return 1-ws(1-e*e)}function zr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Tr(a,n){return n-=a,function(t){return Cs(a+n*t)}}function Ur(a){var n=[a.a,a.b],t=[a.c,a.d],e=Fr(n),l=jr(n,t),r=Fr(Hr(t,n,-l))||0;n[0]*t[1]<t[0]*n[1]&&(n[0]*=-1,n[1]*=-1,e*=-1,l*=-1),this.rotate=(e?Es(n[1],n[0]):Es(-t[0],t[1]))*Yo,this.translate=[a.e,a.f],this.scale=[e,r],this.skew=r?Es(l,r)*Yo:0}function jr(e,n){return e[0]*n[0]+e[1]*n[1]}function Fr(e){var n=ws(jr(e,e));return n&&(e[0]/=n,e[1]/=n),n}function Hr(a,n,t){return a[0]+=t*n[0],a[1]+=t*n[1],a}function Or(e){return e.length?e.pop()+",":""}function Ir(a,n,t,e){if(a[0]!==n[0]||a[1]!==n[1]){var l=t.push("translate(",null,",",null,")");e.push({i:l-4,x:dr(a[0],n[0])},{i:l-2,x:dr(a[1],n[1])})}else(n[0]||n[1])&&t.push("translate("+n+")")}function Yr(a,n,t,e){a===n?n&&t.push(Or(t)+"rotate("+n+")"):(180<a-n?n+=360:180<n-a&&(a+=360),e.push({i:t.push(Or(t)+"rotate(",null,")")-2,x:dr(a,n)}))}function Zr(a,n,t,e){a===n?n&&t.push(Or(t)+"skewX("+n+")"):e.push({i:t.push(Or(t)+"skewX(",null,")")-2,x:dr(a,n)})}function Vr(a,n,t,e){if(a[0]!==n[0]||a[1]!==n[1]){var l=t.push(Or(t)+"scale(",null,",",null,")");e.push({i:l-4,x:dr(a[0],n[0])},{i:l-2,x:dr(a[1],n[1])})}else 1===n[0]&&1===n[1]||t.push(Or(t)+"scale("+n+")")}function Xr(a,n){var l=[],e=[];return a=Ms.transform(a),n=Ms.transform(n),Ir(a.translate,n.translate,l,e),Yr(a.rotate,n.rotate,l,e),Zr(a.skew,n.skew,l,e),Vr(a.scale,n.scale,l,e),a=n=null,function(a){for(var n,t=-1,r=e.length;++t<r;)l[(n=e[t]).i]=n.x(a);return l.join("")}}function $r(a,l){return l=(l-=a=+a)||1/l,function(t){return(t-a)/l}}function Br(a,l){return l=(l-=a=+a)||1/l,function(t){return bs(0,vs(1,(t-a)/l))}}function Wr(a){for(var n=a.source,t=a.target,e=Gr(n,t),l=[n];n!==e;)n=n.parent,l.push(n);for(var r=l.length;t!==e;)l.splice(r,0,t),t=t.parent;return l}function Jr(a){for(var n=[],t=a.parent;null!=t;)n.push(a),a=t,t=t.parent;return n.push(a),n}function Gr(a,n){if(a===n)return a;for(var t=Jr(a),e=Jr(n),l=t.pop(),r=e.pop(),i=null;l===r;)i=l,l=t.pop(),r=e.pop();return i}function Kr(e){e.fixed|=2}function Qr(e){e.fixed&=-7}function ni(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ti(e){e.fixed&=-5}function ei(d,n,t){var e=0,r=0;if(d.charge=0,!d.leaf)for(var i,s=d.nodes,o=s.length,a=-1;++a<o;)i=s[a],null!=i&&(ei(i,n,t),d.charge+=i.charge,e+=i.charge*i.cx,r+=i.charge*i.cy);if(d.point){d.leaf||(d.point.x+=Math.random()-.5,d.point.y+=Math.random()-.5);var l=n*t[d.point.index];d.charge+=d.pointCharge=l,e+=l*d.point.x,r+=l*d.point.y}d.cx=e/d.charge,d.cy=r/d.charge}function ri(e,n){return Ms.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=ci,e}function ii(a,n){for(var t=[a];null!=(a=t.pop());)if(n(a),(l=a.children)&&(e=l.length))for(var e,l;0<=--e;)t.push(l[e])}function ui(a,n){for(var t=[a],e=[];null!=(a=t.pop());)if(e.push(a),(r=a.children)&&(l=r.length))for(var l,r,i=-1;++i<l;)t.push(r[i]);for(;null!=(a=e.pop());)n(a)}function oi(e){return e.children}function ai(e){return e.value}function li(e,n){return n.value-e.value}function ci(e){return Ms.merge(e.map(function(e){return(e.children||[]).map(function(a){return{source:e,target:a}})}))}function fi(e){return e.x}function si(e){return e.y}function hi(a,n,t){a.y0=n,a.y=t}function pi(e){return Ms.range(e.length)}function xd(a){for(var n=-1,t=a[0].length,e=[];++n<t;)e[n]=0;return e}function _d(a){for(var n,t=1,e=0,l=a[0][1],r=a.length;r>t;++t)(n=a[t][1])>l&&(e=t,l=n);return e}function di(e){return e.reduce(yi,0)}function yi(e,n){return e+n[1]}function mi(e,n){return Mi(e,fs(_s(n.length)/us+1))}function Mi(a,n){for(var t=-1,e=+a[0],l=(a[1]-e)/n,r=[];++t<=n;)r[t]=l*t+e;return r}function xi(e){return[Ms.min(e),Ms.max(e)]}function bi(e,n){return e.value-n.value}function _i(a,n){var t=a._pack_next;a._pack_next=n,n._pack_prev=a,n._pack_next=t,t._pack_prev=n}function wi(e,n){e._pack_next=n,n._pack_prev=e}function Si(a,n){var t=n.x-a.x,e=n.y-a.y,l=a.r+n.r;return .999*l*l>t*t+e*e}function ki(x){function n(e){c=vs(e.x-e.r,c),f=bs(e.x+e.r,f),s=vs(e.y-e.r,s),h=bs(e.y+e.r,h)}if((t=x.children)&&(l=t.length)){var t,e,r,i,u,o,a,l,c=1/0,f=-(1/0),s=1/0,h=-(1/0);if(t.forEach(Ni),e=t[0],e.x=-e.r,e.y=0,n(e),1<l&&(r=t[1],r.x=r.r,r.y=0,n(r),2<l))for(i=t[2],Ci(e,r,i),n(i),_i(e,i),e._pack_prev=i,_i(i,r),r=e._pack_next,u=3;l>u;u++){Ci(e,r,i=t[u]);var p=0,g=1,_=1;for(o=r._pack_next;o!==r;o=o._pack_next,g++)if(Si(o,i)){p=1;break}if(1==p)for(a=e._pack_prev;a!==o._pack_prev&&!Si(a,i);a=a._pack_prev,_++);p?(_>g||g==_&&r.r<e.r?wi(e,r=o):wi(e=a,r),u--):(_i(e,i),r=i,n(i))}var d=(c+f)/2,y=(s+h)/2,m=0;for(u=0;l>u;u++)i=t[u],i.x-=d,i.y-=y,m=bs(m,i.r+ws(i.x*i.x+i.y*i.y));x.r=m,t.forEach(Ei)}}function Ni(e){e._pack_next=e._pack_prev=e}function Ei(e){delete e._pack_next,delete e._pack_prev}function Ai(a,n,t,e){var l=a.children;if(a.x=n+=e*a.x,a.y=t+=e*a.y,a.r*=e,l)for(var r=-1,i=l.length;++r<i;)Ai(l[r],n,t,e)}function Ci(d,n,t){var e=d.r+t.r,r=n.x-d.x,i=n.y-d.y;if(e&&(r||i)){var s=n.r+t.r,o=r*r+i*i;s*=s,e*=e;var a=.5+(e-s)/(2*o),l=ws(bs(0,2*s*(e+o)-(e-=o)*e-s*s))/(2*o);t.x=d.x+a*r+l*i,t.y=d.y+a*i-l*r}else t.x=d.x+e,t.y=d.y}function zi(e,n){return e.parent==n.parent?1:2}function Li(e){var n=e.children;return n.length?n[0]:e.t}function qi(a){var n,t=a.children;return(n=t.length)?t[n-1]:a.t}function Ti(a,n,t){var e=t/(n.i-a.i);n.c-=e,n.s+=t,a.c+=e,n.z+=t,n.m+=t}function Ri(a){for(var n,t=0,e=0,l=a.children,r=l.length;0<=--r;)n=l[r],n.z+=t,n.m+=t,t+=n.s+(e+=n.c)}function Di(a,n,t){return a.a.parent===n.parent?a.a:t}function Pi(e){return 1+Ms.max(e,function(e){return e.y})}function Ui(e){return e.reduce(function(e,n){return e+n.x},0)/e.length}function ji(e){var n=e.children;return n&&n.length?ji(n[0]):e}function Fi(a){var n,t=a.children;return t&&(n=t.length)?Fi(t[n-1]):a}function Hi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Oi(a,n){var t=a.x+n[3],l=a.y+n[0],o=a.dx-n[1]-n[3],d=a.dy-n[0]-n[2];return 0>o&&(t+=o/2,o=0),0>d&&(l+=d/2,d=0),{x:t,y:l,dx:o,dy:d}}function Ii(a){var n=a[0],t=a[a.length-1];return t>n?[n,t]:[t,n]}function Yi(e){return e.rangeExtent?e.rangeExtent():Ii(e.range())}function Zi(a,n,t,e){var l=t(a[0],a[1]),r=e(n[0],n[1]);return function(e){return r(l(e))}}function Vi(a,n){var t,e=0,l=a.length-1,r=a[e],i=a[l];return r>i&&(t=e,e=l,l=t,t=r,r=i,i=t),a[e]=n.floor(r),a[l]=n.ceil(i),a}function Xi(e){return e?{floor:function(n){return hs(n/e)*e},ceil:function(n){return fs(n/e)*e}}:wl}function $i(l,n,t,e){var r=[],i=[],d=0,o=vs(l.length,n.length)-1;for(l[o]<l[0]&&(l=l.slice().reverse(),n=n.slice().reverse());++d<=o;)r.push(t(l[d-1],l[d])),i.push(e(n[d-1],n[d]));return function(n){var t=Ms.bisect(l,n,1,o)-1;return i[t](r[t](n))}}function Bi(d,s,t,e){function l(){var n=2<vs(d.length,s.length)?$i:Zi,a=e?Br:$r;return g=n(d,s,a,t),o=n(s,d,a,mr),r}function r(e){return g(e)}var g,o;return r.invert=function(e){return o(e)},r.domain=function(e){return arguments.length?(d=e.map(Number),l()):d},r.range=function(e){return arguments.length?(s=e,l()):s},r.rangeRound=function(e){return r.range(e).interpolate(Tr)},r.clamp=function(t){return arguments.length?(e=t,l()):e},r.interpolate=function(e){return arguments.length?(t=e,l()):t},r.ticks=function(e){return Ki(d,e)},r.tickFormat=function(n,t){return Qi(d,n,t)},r.nice=function(e){return Ji(d,e),l()},r.copy=function(){return Bi(d,s,t,e)},l()}function Wi(e,n){return Ms.rebind(e,n,"range","rangeRound","interpolate","clamp")}function Ji(e,n){return Vi(e,Xi(Gi(e,n)[2])),Vi(e,Xi(Gi(e,n)[2])),e}function Gi(a,n){null==n&&(n=10);var t=Ii(a),e=t[1]-t[0],l=Ss(10,hs(_s(e/n)/xs)),r=n/e*l;return .15>=r?l*=10:.35>=r?l*=5:.75>=r&&(l*=2),t[0]=fs(t[0]/l)*l,t[1]=hs(t[1]/l)*l+.5*l,t[2]=l,t}function Ki(e,n){return Ms.range.apply(Ms,Gi(e,n))}function Qi(a,n,t){var e=Gi(a,n);if(t){var l=sa.exec(t);if(l.shift(),"s"===l[8]){var r=Ms.formatPrefix(bs(Mo(e[0]),Mo(e[1])));return l[7]||(l[7]="."+vd(r.scale(e[2]))),l[8]="f",t=Ms.format(l.join("")),function(e){return t(r.scale(e))+r.symbol}}l[7]||(l[7]="."+bd(l[8],e)),t=l.join("")}else t=",."+vd(e[2])+"f";return Ms.format(t)}function vd(e){return-hs(_s(e)/xs+.01)}function bd(a,n){var t=vd(n[2]);return a in Sl?oo(t-vd(bs(Mo(n[0]),Mo(n[1]))))+ +("e"!==a):t-2*("%"===a)}function Sd(a,d,g,p){function y(e){return(g?_s(0>e?0:e):-_s(0<e?0:-e))/_s(d)}function l(e){return g?Ss(d,e):-Ss(d,-e)}function i(e){return a(y(e))}return i.invert=function(e){return l(a.invert(e))},i.domain=function(e){return arguments.length?(g=0<=e[0],a.domain((p=e.map(Number)).map(y)),i):p},i.base=function(t){return arguments.length?(d=+t,a.domain(p.map(y)),i):d},i.nice=function(){var e=Vi(p.map(y),g?Math:Nl);return a.domain(e),p=e.map(l),i},i.ticks=function(){var e=Ii(p),t=[],n=e[0],a=e[1],r=hs(y(n)),i=fs(y(a)),o=d%1?2:d;if(isFinite(i-r)){if(g){for(;i>r;r++)for(var s=1;o>s;s++)t.push(l(r)*s);t.push(l(r))}else for(t.push(l(r));r++<i;)for(var s=o-1;0<s;s--)t.push(l(r)*s);for(r=0;t[r]<n;r++);for(i=t.length;t[i-1]>a;i--);t=t.slice(r,i)}return t},i.tickFormat=function(t,a){if(!arguments.length)return kl;2>arguments.length?a=kl:"function"!=typeof a&&(a=Ms.format(a));var s=bs(1,d*t/i.ticks().length);return function(e){var t=e/l(Cs(y(e)));return d-.5>t*d&&(t*=d),s>=t?a(e):""}},i.copy=function(){return Sd(a.copy(),d,g,p)},Wi(i,a)}function wd(a,n,l){function e(e){return a(r(e))}var r=Ed(n),i=Ed(1/n);return e.invert=function(e){return i(a.invert(e))},e.domain=function(n){return arguments.length?(a.domain((l=n.map(Number)).map(r)),e):l},e.ticks=function(e){return Ki(l,e)},e.tickFormat=function(e,n){return Qi(l,e,n)},e.nice=function(t){return e.domain(Ji(l,t))},e.exponent=function(t){return arguments.length?(r=Ed(n=t),i=Ed(1/n),a.domain(l.map(r)),e):n},e.copy=function(){return wd(a.copy(),n,l)},Wi(e,a)}function Ed(e){return function(n){return 0>n?-Ss(-n,e):Ss(n,e)}}function kd(d,g){function t(t){return r[((n.get(t)||("range"===g.t?n.set(t,d.push(t)):NaN))-1)%r.length]}function e(a,t){return Ms.range(d.length).map(function(e){return a+t*e})}var n,r,p;return t.domain=function(e){if(!arguments.length)return d;d=[],n=new Rr;for(var l,r=-1,i=e.length;++r<i;)n.has(l=e[r])||n.set(l,d.push(l));return t[g.t].apply(t,g.a)},t.range=function(e){return arguments.length?(r=e,p=0,g={t:"range",a:arguments},t):r},t.rangePoints=function(n,i){2>arguments.length&&(i=0);var a=n[0],l=n[1],o=2>d.length?(a=(a+l)/2,0):(l-a)/(d.length-1+i);return r=e(a+o*i/2,o),p=0,g={t:"rangePoints",a:arguments},t},t.rangeRoundPoints=function(n,i){2>arguments.length&&(i=0);var a=n[0],l=n[1],o=2>d.length?(a=l=Cs((a+l)/2),0):0|(l-a)/(d.length-1+i);return r=e(a+Cs(o*i/2+(l-a-(d.length-1+i)*o)/2),o),p=0,g={t:"rangeRoundPoints",a:arguments},t},t.rangeBands=function(n,i,a){2>arguments.length&&(i=0),3>arguments.length&&(a=i);var l=n[1]<n[0],o=n[l-0],u=n[1-l],s=(u-o)/(d.length-i+2*a);return r=e(o+s*a,s),l&&r.reverse(),p=s*(1-i),g={t:"rangeBands",a:arguments},t},t.rangeRoundBands=function(n,i,a){2>arguments.length&&(i=0),3>arguments.length&&(a=i);var l=n[1]<n[0],o=n[l-0],u=n[1-l],s=hs((u-o)/(d.length-i+2*a));return r=e(o+Cs((u-o-(d.length-i)*s)/2),s),l&&r.reverse(),p=Cs(s*(1-i)),g={t:"rangeRoundBands",a:arguments},t},t.rangeBand=function(){return p},t.rangeExtent=function(){return Ii(g.a[0])},t.copy=function(){return kd(d,g)},t.domain(d)}function Cd(l,i){function e(){var n=0,e=i.length;for(o=[];++n<e;)o[n-1]=Ms.quantile(l,n/e);return t}function t(e){return isNaN(e=+e)?void 0:i[Ms.bisect(o,e)]}var o;return t.domain=function(n){return arguments.length?(l=n.map(Bt).filter(Un).sort(Ht),e()):l},t.range=function(t){return arguments.length?(i=t,e()):i},t.quantiles=function(){return o},t.invertExtent=function(t){return t=i.indexOf(t),0>t?[NaN,NaN]:[0<t?o[t-1]:l[0],t<o.length?o[t]:l[l.length-1]]},t.copy=function(){return Cd(l,i)},e()}function Ad(a,n,l){function e(e){return l[bs(0,vs(i,hs(r*(e-a))))]}function t(){return r=l.length/(n-a),i=l.length-1,e}var r,i;return e.domain=function(l){return arguments.length?(a=+l[0],n=+l[l.length-1],t()):[a,n]},e.range=function(e){return arguments.length?(l=e,t()):l},e.invertExtent=function(e){return e=l.indexOf(e),e=0>e?NaN:e/r+a,[e,e+1/r]},e.copy=function(){return Ad(a,n,l)},t()}function zd(a,l){function r(t){return t>=t?l[Ms.bisect(a,t)]:void 0}return r.domain=function(e){return arguments.length?(a=e,r):a},r.range=function(e){return arguments.length?(l=e,r):l},r.invertExtent=function(t){return t=l.indexOf(t),[a[t-1],a[t]]},r.copy=function(){return zd(a,l)},r}function Ld(a){function n(e){return+e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(a=t.map(n),n):a},n.ticks=function(e){return Ki(a,e)},n.tickFormat=function(n,t){return Qi(a,n,t)},n.copy=function(){return Ld(a)},n}function Td(){return 0}function Md(e){return e.innerRadius}function Rd(e){return e.outerRadius}function Nd(e){return e.startAngle}function Ud(e){return e.endAngle}function Pd(e){return e&&e.padAngle}function jd(a,n,t,e){return 0<(a-t)*n-(n-e)*a?0:1}function Dd(z,n,t,e,L){var i=z[0]-n[0],u=z[1]-n[1],o=(L?e:-e)/ws(i*i+u*u),T=o*u,l=-o*i,c=z[0]+T,f=z[1]+l,s=n[0]+T,h=n[1]+l,p=(c+s)/2,g=(f+h)/2,v=s-c,d=h-f,y=v*v+d*d,m=t-e,M=c*h-s*f,R=(0>d?-1:1)*ws(bs(0,m*m*y-M*M)),b=(M*d-v*R)/y,_=(-M*v-d*R)/y,w=(M*d+v*R)/y,S=(-M*v+d*R)/y,k=b-p,N=_-g,E=w-p,A=S-g;return k*k+N*N>E*E+A*A&&(b=w,_=S),[[b-T,_-l],[b*t/m,_*t/m]]}function qd(l){function d(n){function a(){d.push("M",t(l(u),o))}for(var i,d=[],u=[],y=-1,s=n.length,h=kn(c),p=kn(e);++y<s;)r.call(this,i=n[y],y)?u.push([+h.call(this,i,y),+p.call(this,i,y)]):u.length&&(a(),u=[]);return u.length&&a(),d.length?d.join(""):null}var c=Ae,e=Ce,r=Ct,t=Hd,i=t.key,o=.7;return d.x=function(e){return arguments.length?(c=e,d):c},d.y=function(t){return arguments.length?(e=t,d):e},d.defined=function(e){return arguments.length?(r=e,d):r},d.interpolate=function(e){return arguments.length?(i="function"==typeof e?t=e:(t=ql.get(e)||Hd).key,d):i},d.tension=function(e){return arguments.length?(o=e,d):o},d}function Hd(e){return 1<e.length?e.join("L"):e+"Z"}function Fd(e){return e.join("L")+"Z"}function Yd(a){for(var n=0,t=a.length,e=a[0],l=[e[0],",",e[1]];++n<t;)l.push("V",(e=a[n])[1],"H",e[0]);return l.join("")}function Od(a){for(var n=0,t=a.length,e=a[0],l=[e[0],",",e[1]];++n<t;)l.push("H",(e=a[n])[0],"V",e[1]);return l.join("")}function Id(d,n){if(1>n.length||d.length!=n.length&&d.length!=n.length+2)return Hd(d);var t=d.length!=n.length,e="",r=d[0],i=d[1],s=n[0],o=s,a=1;if(t&&(e+="Q"+(i[0]-2*s[0]/3)+","+(i[1]-2*s[1]/3)+","+i[0]+","+i[1],r=d[1],a=2),1<n.length){o=n[1],i=d[a],a++,e+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1];for(var l=2;l<n.length;l++,a++)i=d[a],o=n[l],e+="S"+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1]}if(t){var g=d[a];e+="Q"+(i[0]+2*o[0]/3)+","+(i[1]+2*o[1]/3)+","+g[0]+","+g[1]}return e}function Zd(d,n){for(var t,e=[],r=(1-n)/2,i=d[0],s=d[1],o=1,a=d.length;++o<a;)t=i,i=s,s=d[o],e.push([r*(s[0]-t[0]),r*(s[1]-t[1])]);return e}function Vd(d){if(3>d.length)return Hd(d);var n=1,t=d.length,e=d[0],r=e[0],i=e[1],s=[r,r,r,(e=d[1])[0]],o=[i,i,i,e[1]],a=[r,",",i,"L",Xd(Dl,s),",",Xd(Dl,o)];for(d.push(d[t-1]);++n<=t;)e=d[n],s.shift(),s.push(e[0]),o.shift(),o.push(e[1]),Bd(a,s,o);return d.pop(),a.push("L",e),a.join("")}function Xd(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3]}function Bd(a,n,t){a.push("C",Xd(Tl,n),",",Xd(Tl,t),",",Xd(Rl,n),",",Xd(Rl,t),",",Xd(Dl,n),",",Xd(Dl,t))}function Wd(e,n){return(n[1]-e[1])/(n[0]-e[0])}function $d(a){for(var n=0,t=a.length-1,e=[],l=a[0],r=a[1],i=e[0]=Wd(l,r);++n<t;)e[n]=(i+(i=Wd(l=r,r=a[n+1])))/2;return e[n]=i,e}function Gd(d){for(var n,t,e,r,i=[],s=$d(d),o=-1,a=d.length-1;++o<a;)n=Wd(d[o],d[o+1]),Mo(n)<Po?s[o]=s[o+1]=0:(t=s[o]/n,e=s[o+1]/n,r=t*t+e*e,9<r&&(r=3*n/ws(r),s[o]=r*t,s[o+1]=r*e));for(o=-1;++o<=a;)r=(d[vs(a,o+1)][0]-d[bs(0,o-1)][0])/(6*(1+s[o]*s[o])),i.push([r||0,s[o]*r||0]);return i}function Jd(a){for(var n,t,e,l=-1,r=a.length;++l<r;)n=a[l],t=n[0],e=n[1]-Ho,n[0]=t*ks(e),n[1]=t*As(e);return a}function Qd(g){function d(n){function a(){f.push("M",t(g(d),p),o,l(g(S.reverse()),p),"Z")}for(var s,h,c,f=[],S=[],d=[],y=-1,m=n.length,E=kn(v),x=kn(r),b=v===e?function(){return h}:kn(e),_=r===i?function(){return c}:kn(i);++y<m;)u.call(this,s=n[y],y)?(S.push([h=+E.call(this,s,y),c=+x.call(this,s,y)]),d.push([+b.call(this,s,y),+_.call(this,s,y)])):S.length&&(a(),S=[],d=[]);return S.length&&a(),f.length?f.join(""):null}var v=Ae,e=Ae,r=0,i=Ce,u=Ct,t=Hd,a=t.key,l=t,o="L",p=.7;return d.x=function(t){return arguments.length?(v=e=t,d):e},d.x0=function(e){return arguments.length?(v=e,d):v},d.x1=function(t){return arguments.length?(e=t,d):e},d.y=function(e){return arguments.length?(r=i=e,d):i},d.y0=function(e){return arguments.length?(r=e,d):r},d.y1=function(e){return arguments.length?(i=e,d):i},d.defined=function(e){return arguments.length?(u=e,d):u},d.interpolate=function(e){return arguments.length?(a="function"==typeof e?t=e:(t=ql.get(e)||Hd).key,l=t.reverse||t,o=t.closed?"M":"L",d):a},d.tension=function(e){return arguments.length?(p=e,d):p},d}function Kd(e){return e.radius}function es(e){return[e.x,e.y]}function ts(a){return function(){var n=a.apply(this,arguments),t=n[0],e=n[1]-Ho;return[t*ks(e),t*As(e)]}}function ns(){return 64}function as(){return"circle"}function ls(e){var n=ws(e/Ps);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function rs(a){return function(){var n,t,e;(n=this[a])&&(e=n[t=n.active])&&(e.timer.c=null,e.timer.t=NaN,--n.count?delete n[t]:delete this[a],n.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function is(a,n,t){return So(a,Il),a.namespace=n,a.id=t,a}function os(a,l,t,d){var r=a.id,i=a.namespace;return F(a,"function"==typeof t?function(e,n,o){e[i][r].tween.set(l,d(t.call(e,e.__data__,n,o)))}:(t=d(t),function(e){e[i][r].tween.set(l,t)}))}function ds(e){return null==e&&(e=""),function(){this.textContent=e}}function ss(e){return null==e?"__transition__":"__transition_"+e+"__"}function gs(d,n,c,y,e){function r(t){var e=p.active,l=p[e];for(var r in l&&(l.timer.c=null,l.timer.t=NaN,--p.count,delete p[e],l.event&&l.event.interrupt.call(d,d.__data__,l.index)),p)if(y>+r){var i=p[r];i.timer.c=null,i.timer.t=NaN,--p.count,delete p[r]}x.c=m,Ln(function(){return x.c&&m(t||1)&&(x.c=null,x.t=NaN),1},0,a),p.active=y,g.event&&g.event.start.call(d,d.__data__,n),h=[],g.tween.forEach(function(t,e){(e=e.call(d,d.__data__,n))&&h.push(e)}),s=g.ease,_=g.duration}function m(e){for(var t=e/_,l=s(t),r=h.length;0<r;)h[--r].call(d,l);return 1<=t?(g.event&&g.event.end.call(d,d.__data__,n),--p.count?delete p[y]:delete d[c],1):void 0}var a,x,_,s,h,p=d[c]||(d[c]={active:0,count:0}),g=p[y];g||(a=e.time,x=Ln(function(e){var n=g.delay;return x.t=n+a,e>=n?r(e-n):void(x.c=r)},0,a),g=p[y]={tween:new Rr,time:a,timer:x,delay:e.delay,duration:e.duration,ease:e.ease,index:n},e=null,++p.count)}function ps(a,l,t){a.attr("transform",function(e){var n=l(e);return"translate("+(isFinite(n)?n:t(e))+",0)"})}function no(a,l,t){a.attr("transform",function(e){var n=l(e);return"translate(0,"+(isFinite(n)?n:t(e))+")"})}function to(e){return e.toISOString()}function eo(a,l,t){function d(e){return a(e)}function r(t,n){var e=t[1]-t[0],a=e/n,r=Ms.bisect(Gl,a);return r==Gl.length?[l.year,Gi(t.map(function(e){return e/31536e6}),n)[2]]:r?l[a/Gl[r-1]<Gl[r]/a?r-1:r]:[Os,Gi(t,n)[2]]}return d.invert=function(e){return ro(a.invert(e))},d.domain=function(e){return arguments.length?(a.domain(e),d):a.domain().map(ro)},d.nice=function(l,i){function s(t){return!isNaN(t)&&!l.range(t,ro(+t+1),i).length}var e=d.domain(),t=Ii(e),o=null==l?r(t,10):"number"==typeof l&&r(t,l);return o&&(l=o[0],i=o[1]),d.domain(Vi(e,1<i?{floor:function(e){for(;s(e=l.floor(e));)e=ro(e-1);return e},ceil:function(e){for(;s(e=l.ceil(e));)e=ro(+e+1);return e}}:l))},d.ticks=function(a,l){var t=Ii(d.domain()),e=null==a?r(t,10):"number"==typeof a?r(t,a):!a.range&&[{range:a},l];return e&&(a=e[0],l=e[1]),a.range(t[0],ro(+t[1]+1),1>l?1:l)},d.tickFormat=function(){return t},d.copy=function(){return eo(a.copy(),l,t)},Wi(d,a)}function ro(e){return new Date(e)}function io(e){return JSON.parse(e.responseText)}function uo(e){var n=co.createRange();return n.selectNode(co.body),n.createContextualFragment(e.responseText)}var oo=Math.abs,hs=Math.floor,us=Math.LN2,cs=Math.tan,ys=Math.PI,ms=Math.atan,fs=Math.ceil,xs=Math.LN10,_s=Math.log,vs=Math.min,bs=Math.max,Ss=Math.pow,ws=Math.sqrt,Es=Math.atan2,ks=Math.cos,Cs=Math.round,As=Math.sin,zs=Math.exp,Ls=Math.asin,Ts=Math.acos,Ms={version:"3.5.17"},ao=[].slice,lo=function(e){return ao.call(e)},co=this.document;if(co)try{lo(co.documentElement.childNodes)[0].nodeType}catch(e){lo=function(a){for(var n=a.length,t=Array(n);n--;)t[n]=a[n];return t}}if(Date.now||(Date.now=function(){return+new Date}),co)try{co.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var fo=this.Element.prototype,po=fo.setAttribute,go=fo.setAttributeNS,vo=this.CSSStyleDeclaration.prototype,yo=vo.setProperty;fo.setAttribute=function(e,n){po.call(this,e,n+"")},fo.setAttributeNS=function(a,n,t){go.call(this,a,n,t+"")},vo.setProperty=function(a,n,t){yo.call(this,a,n+"",t)}}Ms.ascending=Ht,Ms.descending=function(e,n){return e>n?-1:n>e?1:n>=e?0:NaN},Ms.min=function(a,n){var t,e,l=-1,r=a.length;if(1===arguments.length){for(;++l<r;)if(null!=(e=a[l])&&e>=e){t=e;break}for(;++l<r;)null!=(e=a[l])&&t>e&&(t=e)}else{for(;++l<r;)if(null!=(e=n.call(a,a[l],l))&&e>=e){t=e;break}for(;++l<r;)null!=(e=n.call(a,a[l],l))&&t>e&&(t=e)}return t},Ms.max=function(a,n){var t,e,l=-1,r=a.length;if(1===arguments.length){for(;++l<r;)if(null!=(e=a[l])&&e>=e){t=e;break}for(;++l<r;)null!=(e=a[l])&&e>t&&(t=e)}else{for(;++l<r;)if(null!=(e=n.call(a,a[l],l))&&e>=e){t=e;break}for(;++l<r;)null!=(e=n.call(a,a[l],l))&&e>t&&(t=e)}return t},Ms.extent=function(a,n){var t,e,l,r=-1,i=a.length;if(1===arguments.length){for(;++r<i;)if(null!=(e=a[r])&&e>=e){t=l=e;break}for(;++r<i;)null!=(e=a[r])&&(t>e&&(t=e),e>l&&(l=e))}else{for(;++r<i;)if(null!=(e=n.call(a,a[r],r))&&e>=e){t=l=e;break}for(;++r<i;)null!=(e=n.call(a,a[r],r))&&(t>e&&(t=e),e>l&&(l=e))}return[t,l]},Ms.sum=function(a,n){var t,e=0,l=a.length,r=-1;if(1===arguments.length)for(;++r<l;)Un(t=+a[r])&&(e+=t);else for(;++r<l;)Un(t=+n.call(a,a[r],r))&&(e+=t);return e},Ms.mean=function(r,n){var t,e=0,i=r.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)Un(t=Bt(r[o]))?e+=t:--a;else for(;++o<i;)Un(t=Bt(n.call(r,r[o],o)))?e+=t:--a;return a?e/a:void 0},Ms.quantile=function(a,n){var t=(a.length-1)*n+1,e=hs(t),l=+a[e-1],r=t-e;return r?l+r*(a[e]-l):l},Ms.median=function(e,n){var t,r=[],i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)Un(t=Bt(e[a]))&&r.push(t);else for(;++a<i;)Un(t=Bt(n.call(e,e[a],a)))&&r.push(t);return r.length?Ms.quantile(r.sort(Ht),.5):void 0},Ms.variance=function(r,n){var t,e,i=r.length,o=0,a=0,l=-1,d=0;if(1===arguments.length)for(;++l<i;)Un(t=Bt(r[l]))&&(e=t-o,o+=e/++d,a+=e*(t-o));else for(;++l<i;)Un(t=Bt(n.call(r,r[l],l)))&&(e=t-o,o+=e/++d,a+=e*(t-o));return 1<d?a/(d-1):void 0},Ms.deviation=function(){var e=Ms.variance.apply(this,arguments);return e?ws(e):e};var mo=e(Ht);Ms.bisectLeft=mo.left,Ms.bisect=Ms.bisectRight=mo.right,Ms.bisector=function(a){return e(1===a.length?function(e,t){return Ht(a(e),t)}:a)},Ms.shuffle=function(a,n,t){3>(r=arguments.length)&&(t=a.length,2>r&&(n=0));for(var e,l,r=t-n;r;)l=0|Math.random()*r--,e=a[r+n],a[r+n]=a[l+n],a[l+n]=e;return a},Ms.permute=function(a,n){for(var t=n.length,e=Array(t);t--;)e[t]=a[n[t]];return e},Ms.pairs=function(a){for(var n,t=0,e=a.length-1,l=a[0],r=Array(0>e?0:e);e>t;)r[t]=[n=l,l=a[++t]];return r},Ms.transpose=function(l){if(!(r=l.length))return[];for(var n=-1,t=Ms.min(l,Er),e=Array(t);++n<t;)for(var r,i=-1,o=e[n]=Array(r);++i<r;)o[i]=l[i][n];return e},Ms.zip=function(){return Ms.transpose(arguments)},Ms.keys=function(a){var n=[];for(var t in a)n.push(t);return n},Ms.values=function(a){var n=[];for(var t in a)n.push(a[t]);return n},Ms.entries=function(a){var n=[];for(var t in a)n.push({key:t,value:a[t]});return n},Ms.merge=function(a){for(var n,t,e,l=a.length,r=-1,i=0;++r<l;)i+=a[r].length;for(t=Array(i);0<=--l;)for(e=a[l],n=e.length;0<=--n;)t[--i]=e[n];return t};var Mo=oo;Ms.range=function(a,n,t){if(3>arguments.length&&(t=1,2>arguments.length&&(n=a,a=0)),(n-a)/t===1/0)throw new Error("infinite range");var e,l=[],r=Lr(Mo(t)),i=-1;if(a*=r,n*=r,t*=r,0>t)for(;(e=a+t*++i)>n;)l.push(e/r);else for(;(e=a+t*++i)<n;)l.push(e/r);return l},Ms.map=function(a,n){var l=new Rr;if(a instanceof Rr)a.forEach(function(e,n){l.set(e,n)});else if(Array.isArray(a)){var e,t=-1,r=a.length;if(1===arguments.length)for(;++t<r;)l.set(t,a[t]);else for(;++t<r;)l.set(n.call(a,e=a[t],t),e)}else for(var i in a)l.set(i,a[i]);return l};var xo="__proto__",bo="\0";t(Rr,{has:n,get:function(e){return this._[a(e)]},set:function(e,n){return this._[a(e)]=n},remove:r,keys:i,values:function(){var e=[];for(var n in this._)e.push(this._[n]);return e},entries:function(){var e=[];for(var n in this._)e.push({key:l(n),value:this._[n]});return e},size:o,empty:s,forEach:function(e){for(var n in this._)e.call(this,l(n),this._[n])}}),Ms.nest=function(){function l(n,t,i){if(i>=y.length)return e?e.call(r,t):c?t.sort(c):t;for(var a,o,u,s,h=-1,p=t.length,g=y[i++],m=new Rr;++h<p;)(s=m.get(a=g(o=t[h])))?s.push(o):m.set(a,[o]);return n?(o=n(),u=function(t,e){o.set(t,l(n,e,i))}):(o={},u=function(t,e){o[t]=l(n,e,i)}),m.forEach(u),o}function a(l,o){if(o>=y.length)return l;var e=[],r=t[o++];return l.forEach(function(t,l){e.push({key:t,values:a(l,o)})}),r?e.sort(function(e,n){return r(e.key,n.key)}):e}var c,e,r={},y=[],t=[];return r.map=function(n,t){return l(t,n,0)},r.entries=function(t){return a(l(Ms.map,t,0),0)},r.key=function(e){return y.push(e),r},r.sortKeys=function(e){return t[y.length-1]=e,r},r.sortValues=function(e){return c=e,r},r.rollup=function(t){return e=t,r},r},Ms.set=function(a){var n=new u;if(a)for(var t=0,e=a.length;e>t;++t)n.add(a[t]);return n},t(u,{has:n,add:function(e){return this._[a(e+="")]=!0,e},remove:r,values:i,size:o,empty:s,forEach:function(e){for(var n in this._)e.call(this,l(n))}}),Ms.behavior={},Ms.rebind=function(a,n){for(var t,e=1,l=arguments.length;++e<l;)a[t=arguments[e]]=c(a,n,n[t]);return a};var _o=["webkit","ms","moz","Moz","o","O"];Ms.dispatch=function(){for(var a=new x,n=-1,t=arguments.length;++n<t;)a[arguments[n]]=_(a);return a},x.prototype.on=function(a,n){var t=a.indexOf("."),e="";if(0<=t&&(e=a.slice(t+1),a=a.slice(0,t)),a)return 2>arguments.length?this[a].on(e):this[a].on(e,n);if(2===arguments.length){if(null==n)for(a in this)this.hasOwnProperty(a)&&this[a].on(e,null);return this}},Ms.event=null,Ms.requote=function(e){return e.replace(wo,"\\$&")};var wo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,So={}.__proto__?function(e,n){e.__proto__=n}:function(a,n){for(var t in n)a[t]=n[t]},ko=function(e,n){return n.querySelector(e)},No=function(e,n){return n.querySelectorAll(e)},Eo=function(a,n){var l=a.matches||a[y(a,"matchesSelector")];return(Eo=function(e,n){return l.call(e,n)})(a,n)};"function"==typeof Sizzle&&(ko=function(e,n){return Sizzle(e,n)[0]||null},No=Sizzle,Eo=Sizzle.matchesSelector),Ms.selection=function(){return Ms.select(co.documentElement)};var Ao=Ms.selection.prototype=[];Ao.select=function(d){var n,t,e,r,i=[];d=E(d);for(var s=-1,o=this.length;++s<o;){i.push(n=[]),n.parentNode=(e=this[s]).parentNode;for(var a=-1,l=e.length;++a<l;)(r=e[a])?(n.push(t=d.call(r,r.__data__,a,s)),t&&"__data__"in r&&(t.__data__=r.__data__)):n.push(null)}return k(i)},Ao.selectAll=function(d){var n,t,e=[];d=A(d);for(var r=-1,i=this.length;++r<i;)for(var s=this[r],o=-1,a=s.length;++o<a;)(t=s[o])&&(e.push(n=lo(d.call(t,t.__data__,o,r))),n.parentNode=t);return k(e)};var Co="http://www.w3.org/1999/xhtml",Rs={svg:"http://www.w3.org/2000/svg",xhtml:Co,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ms.ns={prefix:Rs,qualify:function(a){var l=a.indexOf(":"),t=a;return 0<=l&&"xmlns"!==(t=a.slice(0,l))&&(a=a.slice(l+1)),Rs.hasOwnProperty(t)?{space:Rs[t],local:a}:a}},Ao.attr=function(a,l){if(2>arguments.length){if("string"==typeof a){var t=this.node();return a=Ms.ns.qualify(a),a.local?t.getAttributeNS(a.space,a.local):t.getAttribute(a)}for(l in a)this.each(C(l,a[l]));return this}return this.each(C(a,l))},Ao.classed=function(a,l){if(2>arguments.length){if("string"==typeof a){var t=this.node(),e=(a=M(a)).length,r=-1;if(l=t.classList){for(;++r<e;)if(!l.contains(a[r]))return!1;}else for(l=t.getAttribute("class");++r<e;)if(!L(a[r]).test(l))return!1;return!0}for(l in a)this.each(T(l,a[l]));return this}return this.each(T(a,l))},Ao.style=function(t,a,e){var l=arguments.length;if(3>l){if("string"!=typeof t){for(e in 2>l&&(a=""),t)this.each(N(e,t[e],a));return this}if(2>l){var r=this.node();return jt(r).getComputedStyle(r,null).getPropertyValue(t)}e=""}return this.each(N(t,a,e))},Ao.property=function(e,a){if(2>arguments.length){if("string"==typeof e)return this.node()[e];for(a in e)this.each(P(a,e[a]));return this}return this.each(P(e,a))},Ao.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var n=e.apply(this,arguments);this.textContent=null==n?"":n}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ao.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var n=e.apply(this,arguments);this.innerHTML=null==n?"":n}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ao.append=function(e){return e=U(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ao.insert=function(e,n){return e=U(e),n=E(n),this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})},Ao.remove=function(){return this.each(j)},Ao.data=function(d,c){function t(t,n){var f,r,i,u=t.length,o=n.length,s=vs(u,o),h=Array(o),p=Array(o),g=Array(u);if(c){var _,d=new Rr,y=Array(u);for(f=-1;++f<u;)(r=t[f])&&(d.has(_=c.call(r,r.__data__,f))?g[f]=r:d.set(_,r),y[f]=_);for(f=-1;++f<o;)(r=d.get(_=c.call(n,i=n[f],f)))?!0!==r&&(h[f]=r,r.__data__=i):p[f]=D(i),d.set(_,!0);for(f=-1;++f<u;)f in y&&!0!==d.get(y[f])&&(g[f]=t[f])}else{for(f=-1;++f<s;)r=t[f],i=n[f],r?(r.__data__=i,h[f]=r):p[f]=D(i);for(;o>f;++f)p[f]=D(n[f]);for(;u>f;++f)g[f]=t[f]}p.update=h,p.parentNode=h.parentNode=g.parentNode=t.parentNode,x.push(p),a.push(h),l.push(g)}var e,r,i=-1,s=this.length;if(!arguments.length){for(d=Array(s=(e=this[0]).length);++i<s;)(r=e[i])&&(d[i]=r.__data__);return d}var x=Y([]),a=k([]),l=k([]);if("function"==typeof d)for(;++i<s;)t(e=this[i],d.call(e,e.parentNode.__data__,i));else for(;++i<s;)t(e=this[i],d);return a.enter=function(){return x},a.exit=function(){return l},a},Ao.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Ao.filter=function(d){var s,t,e,r=[];"function"!=typeof d&&(d=q(d));for(var i=0,g=this.length;g>i;i++){r.push(s=[]),s.parentNode=(t=this[i]).parentNode;for(var o=0,a=t.length;a>o;o++)(e=t[o])&&d.call(e,e.__data__,o,i)&&s.push(e)}return k(r)},Ao.order=function(){for(var a=-1,n=this.length;++a<n;)for(var t,e=this[a],l=e.length-1,r=e[l];0<=--l;)(t=e[l])&&(r&&r!==t.nextSibling&&r.parentNode.insertBefore(t,r),r=t);return this},Ao.sort=function(a){a=H.apply(this,arguments);for(var n=-1,t=this.length;++n<t;)this[n].sort(a);return this.order()},Ao.each=function(a){return F(this,function(n,t,e){a.call(n,n.__data__,t,e)})},Ao.call=function(e){var n=lo(arguments);return e.apply(n[0]=this,n),this},Ao.empty=function(){return!this.node()},Ao.node=function(){for(var a=0,n=this.length;n>a;a++)for(var t,l=this[a],e=0,r=l.length;r>e;e++)if(t=l[e],t)return t;return null},Ao.size=function(){var e=0;return F(this,function(){++e}),e};var Ns=[];Ms.selection.enter=Y,Ms.selection.enter.prototype=Ns,Ns.append=Ao.append,Ns.empty=Ao.empty,Ns.node=Ao.node,Ns.call=Ao.call,Ns.size=Ao.size,Ns.select=function(d){for(var n,t,e,r,i,s=[],o=-1,a=this.length;++o<a;){e=(r=this[o]).update,s.push(n=[]),n.parentNode=r.parentNode;for(var l=-1,g=r.length;++l<g;)(i=r[l])?(n.push(e[l]=t=d.call(r.parentNode,i.__data__,l,o)),t.__data__=i.__data__):n.push(null)}return k(s)},Ns.insert=function(e,n){return 2>arguments.length&&(n=O(this)),Ao.insert.call(this,e,n)},Ms.select=function(n){var a;return"string"==typeof n?(a=[ko(n,co)],a.parentNode=co.documentElement):(a=[n],a.parentNode=_e(n)),k([a])},Ms.selectAll=function(e){var a;return"string"==typeof e?(a=lo(No(e,co)),a.parentNode=co.documentElement):(a=lo(e),a.parentNode=null),k([a])},Ao.on=function(a,l,t){var e=arguments.length;if(3>e){if("string"!=typeof a){for(t in 2>e&&(l=!1),a)this.each(I(t,a[t],l));return this}if(2>e)return(e=this.node()["__on"+a])&&e._;t=!1}return this.each(I(a,l,t))};var qo=Ms.map({mouseenter:"mouseover",mouseleave:"mouseout"});co&&qo.forEach(function(e){"on"+e in co&&qo.remove(e)});var To,Ro=0;Ms.mouse=function(e){return B(e,S())};var Do=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;Ms.touch=function(a,n,t){if(3>arguments.length&&(t=n,n=S().changedTouches),n)for(var e,l=0,r=n.length;r>l;++l)if((e=n[l]).identifier===t)return B(a,e)},Ms.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",n)}function t(a,i,t,n,u){return function(){var o,e=this,c=Ms.event.target.correspondingElement||Ms.event.target,s=e.parentNode,h=l.of(e,arguments),p=0,g=a(),f=".drag"+(null==g?"":"-"+g),d=Ms.select(t(c)).on(n+f,function(){var t,a,l=i(s,g);l&&(t=l[0]-m[0],a=l[1]-m[1],p|=t|a,m=l,h({type:"drag",x:l[0]+o[0],y:l[1]+o[1],dx:t,dy:a}))}).on(u+f,function(){i(s,g)&&(d.on(n+f,null).on(u+f,null),y(p),h({type:"dragend"}))}),y=X(c),m=i(s,g);r?(o=r.apply(e,arguments),o=[o.x-m[0],o.y-m[1]]):o=[0,0],h({type:"dragstart"})}}var l=Dr(a,"drag","dragstart","dragend"),r=null,e=t(f,Ms.mouse,jt,"mousemove","mouseup"),n=t(W,Ms.touch,Pr,"touchmove","touchend");return a.origin=function(e){return arguments.length?(r=e,a):r},Ms.rebind(a,l,"on")},Ms.touches=function(a,e){return 2>arguments.length&&(e=S().touches),e?lo(e).map(function(n){var t=B(a,n);return t.identifier=n.identifier,t}):[]};var Po=1e-6,Us=Po*Po,Ps=ys,js=2*Ps,Ho=Ps/2,Ds=Ps/180,Yo=180/Ps,Zo=Math.SQRT2,Vo=2,Xo=4;Ms.interpolateZoom=function(m,n){var t,x,r=m[0],i=m[1],u=m[2],e=n[0],a=n[1],l=n[2],o=e-r,c=a-i,s=o*o+c*c;if(Us>s)x=_s(l/u)/Zo,t=function(e){return[r+e*o,i+e*c,u*zs(Zo*e*x)]};else{var h=ws(s),p=(l*l-u*u+Xo*s)/(2*u*Vo*h),g=(l*l-u*u-Xo*s)/(2*l*Vo*h),f=_s(ws(p*p+1)-p),d=_s(ws(g*g+1)-g);x=(d-f)/Zo,t=function(l){var n=l*x,t=en(f),e=u/(Vo*h)*(t*tn(Zo*n+f)-K(f));return[r+e*o,i+e*c,u*t/en(Zo*n+f)]}}return t.duration=1e3*x,t},Ms.behavior.zoom=function(){function S(e){e.on(k,a).on(Bo+".zoom",t).on("dblclick.zoom",s).on(z,o)}function N(e){return[(e[0]-x.x)/x.k,(e[1]-x.y)/x.k]}function e(e){return[e[0]*x.k+x.x,e[1]*x.k+x.y]}function U(e){x.k=bs(v[0],vs(v[1],e))}function P(a,n){n=e(n),x.x+=a[0]-n[0],x.y+=a[1]-n[1]}function r(n,t,e,a){n.__chart__={x:x.x,y:x.y,k:x.k},U(Ss(2,a)),P(p=t,e),n=Ms.select(n),0<b&&(n=n.transition().duration(b)),n.call(S.event)}function i(){c&&c.domain(n.range().map(function(e){return(e-x.x)/x.k}).map(n.invert)),f&&f.domain(y.range().map(function(e){return(e-x.y)/x.k}).map(y.invert))}function u(e){E++||e({type:"zoomstart"})}function j(e){i(),e({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function l(e){--E||(e({type:"zoomend"}),p=null)}function a(){var e=this,t=L.of(e,arguments),n=0,a=Ms.select(jt(e)).on(C,function(){n=1,P(Ms.mouse(e),r),j(t)}).on(A,function(){a.on(C,null).on(A,null),i(n),l(t)}),r=N(Ms.mouse(e)),i=X(e);Ol.call(e),u(t)}function o(){function S(){var e=Ms.touches(p);return i=x.k,e.forEach(function(e){e.identifier in s&&(s[e.identifier]=N(e))}),e}function e(){var a=Ms.event.target;Ms.select(a).on(y,n).on(v,E),b.push(a);for(var o=Ms.event.changedTouches,e=0,i=o.length;i>e;++e)s[o[e].identifier]=null;var g=S(),l=Date.now();if(1===g.length){if(500>l-m){var u=g[0];r(p,u,s[u.identifier],hs(_s(x.k)/us)+1),w()}m=l}else if(1<g.length){var u=g[0],c=g[1],f=u[0]-c[0],h=u[1]-c[1];d=f*f+h*h}}function n(){var h,n,t,e,u=Ms.touches(p);Ol.call(p);for(var o=0,a=u.length;a>o;++o,e=null)if(t=u[o],e=s[t.identifier]){if(n)break;h=t,n=e}if(e){var l=(l=t[0]-h[0])*l+(l=t[1]-h[1])*l,c=d&&ws(l/d);h=[(h[0]+t[0])/2,(h[1]+t[1])/2],n=[(n[0]+e[0])/2,(n[1]+e[1])/2],U(c*i)}m=null,P(h,n),j(g)}function E(){if(Ms.event.touches.length){for(var n=Ms.event.changedTouches,t=0,e=n.length;e>t;++t)delete s[n[t].identifier];for(var r in s)return void S()}Ms.selectAll(b).on(h,null),c.on(k,a).on(z,o),f(),l(g)}var i,p=this,g=L.of(p,arguments),s={},d=0,h=".zoom-"+Ms.event.changedTouches[0].identifier,y="touchmove"+h,v="touchend"+h,b=[],c=Ms.select(p),f=X(p);e(),u(g),c.on(k,null).on(z,e)}function t(){var e=L.of(this,arguments);h?clearTimeout(h):(Ol.call(this),g=N(p=d||Ms.mouse(this)),u(e)),h=setTimeout(function(){h=null,l(e)},50),w(),U(Ss(2,.002*$o())*x.k),P(p,g),j(e)}function s(){var e=Ms.mouse(this),n=_s(x.k)/us;r(this,e,N(e),Ms.event.shiftKey?fs(n)-1:hs(n)+1)}var g,p,d,h,m,n,c,y,f,x={x:0,y:0,k:1},_=[960,500],v=Wo,b=250,E=0,k="mousedown.zoom",C="mousemove.zoom",A="mouseup.zoom",z="touchstart.zoom",L=Dr(S,"zoomstart","zoom","zoomend");return Bo||(Bo="onwheel"in co?($o=function(){return-Ms.event.deltaY*(Ms.event.deltaMode?120:1)},"wheel"):"onmousewheel"in co?($o=function(){return Ms.event.wheelDelta},"mousewheel"):($o=function(){return-Ms.event.detail},"MozMousePixelScroll")),S.event=function(e){e.each(function(){var d=L.of(this,arguments),n=x;Fl?Ms.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},u(d)}).tween("zoom:zoom",function(){var l=_[0],e=_[1],s=p?p[0]:l/2,i=p?p[1]:e/2,g=Ms.interpolateZoom([(s-x.x)/x.k,(i-x.y)/x.k,l/x.k],[(s-n.x)/n.k,(i-n.y)/n.k,l/n.k]);return function(e){var t=g(e),n=l/t[2];this.__chart__=x={x:s-t[0]*n,y:i-t[1]*n,k:n},j(d)}}).each("interrupt.zoom",function(){l(d)}).each("end.zoom",function(){l(d)}):(this.__chart__=x,u(d),j(d),l(d))})},S.translate=function(e){return arguments.length?(x={x:+e[0],y:+e[1],k:x.k},i(),S):[x.x,x.y]},S.scale=function(e){return arguments.length?(x={x:x.x,y:x.y,k:null},U(+e),i(),S):x.k},S.scaleExtent=function(e){return arguments.length?(v=null==e?Wo:[+e[0],+e[1]],S):v},S.center=function(e){return arguments.length?(d=e&&[+e[0],+e[1]],S):d},S.size=function(e){return arguments.length?(_=e&&[+e[0],+e[1]],S):_},S.duration=function(e){return arguments.length?(b=+e,S):b},S.x=function(e){return arguments.length?(c=e,n=e.copy(),x={x:0,y:0,k:1},S):c},S.y=function(e){return arguments.length?(f=e,y=e.copy(),x={x:0,y:0,k:1},S):f},Ms.rebind(S,L,"on")};var $o,Bo,Wo=[0,Infinity];Ms.color=rn,rn.prototype.toString=function(){return this.rgb()+""},Ms.hsl=an;var Jo=an.prototype=new rn;Jo.brighter=function(e){return e=Ss(.7,arguments.length?e:1),new an(this.h,this.s,this.l/e)},Jo.darker=function(e){return e=Ss(.7,arguments.length?e:1),new an(this.h,this.s,e*this.l)},Jo.rgb=function(){return ln(this.h,this.s,this.l)},Ms.hcl=on;var Go=on.prototype=new rn;Go.brighter=function(e){return new on(this.h,this.c,vs(100,this.l+Ko*(arguments.length?e:1)))},Go.darker=function(e){return new on(this.h,this.c,bs(0,this.l-Ko*(arguments.length?e:1)))},Go.rgb=function(){return un(this.h,this.c,this.l).rgb()},Ms.lab=sn;var Ko=18,Qo=.95047,na=1,ta=1.08883,ea=sn.prototype=new rn;ea.brighter=function(e){return new sn(vs(100,this.l+Ko*(arguments.length?e:1)),this.a,this.b)},ea.darker=function(e){return new sn(bs(0,this.l-Ko*(arguments.length?e:1)),this.a,this.b)},ea.rgb=function(){return hn(this.l,this.a,this.b)},Ms.rgb=yn;var ra=yn.prototype=new rn;ra.brighter=function(a){a=Ss(.7,arguments.length?a:1);var n=this.r,t=this.g,e=this.b,l=30;return n||t||e?(n&&l>n&&(n=l),t&&l>t&&(t=l),e&&l>e&&(e=l),new yn(vs(255,n/a),vs(255,t/a),vs(255,e/a))):new yn(l,l,l)},ra.darker=function(e){return e=Ss(.7,arguments.length?e:1),new yn(e*this.r,e*this.g,e*this.b)},ra.hsl=function(){return _n(this.r,this.g,this.b)},ra.toString=function(){return"#"+xn(this.r)+xn(this.g)+xn(this.b)};var ia=Ms.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ia.forEach(function(e,n){ia.set(e,mn(n))}),Ms.functor=kn,Ms.xhr=En(Pr),Ms.dsv=function(d,s){function g(a,l,n){3>arguments.length&&(n=l,l=null);var i=An(a,s,null==l?t:r(l),n);return i.row=function(e){return arguments.length?i.response(null==(l=e)?t:r(e)):l},i}function t(e){return g.parse(e.responseText)}function r(e){return function(n){return g.parse(n.responseText,e)}}function e(e){return e.map(p).join(d)}function p(e){return i.test(e)?"\""+e.replace(/\"/g,"\"\"")+"\"":e}var i=new RegExp("[\""+d+"\n]"),o=d.charCodeAt(0);return g.parse=function(e,a){var t;return g.parseRows(e,function(l,n){if(t)return t(l,n-1);var r=new Function("d","return {"+l.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}");t=a?function(t,n){return a(r(t),n)}:r})},g.parseRows=function(l,n){function t(){if(u>=p)return g;if(d)return d=!1,i;var n=u;if(34===l.charCodeAt(n)){for(var t=n;t++<p;)if(34===l.charCodeAt(t)){if(34!==l.charCodeAt(t+1))break;++t}u=t+2;var s=l.charCodeAt(t+1);return 13===s?(d=!0,10===l.charCodeAt(t+2)&&++u):10===s&&(d=!0),l.slice(n+1,t).replace(/""/g,"\"")}for(;p>u;){var s=l.charCodeAt(u++),r=1;if(10===s)d=!0;else if(13===s)d=!0,10===l.charCodeAt(u)&&(++u,++r);else if(s!==o)continue;return l.slice(n,u-r)}return l.slice(n)}for(var e,d,i={},g={},r=[],p=l.length,u=0,a=0;(e=t())!==g;){for(var s=[];e!==i&&e!==g;)s.push(e),e=t();n&&null==(s=n(s,a++))||r.push(s)}return r},g.format=function(e){if(Array.isArray(e[0]))return g.formatRows(e);var a=new u,l=[];return e.forEach(function(e){for(var n in e)a.has(n)||l.push(a.add(n))}),[l.map(p).join(d)].concat(e.map(function(e){return l.map(function(t){return p(e[t])}).join(d)})).join("\n")},g.formatRows=function(t){return t.map(e).join("\n")},g},Ms.csv=Ms.dsv(",","text/csv"),Ms.tsv=Ms.dsv("\t","text/tab-separated-values");var ua,oa,aa,la,ca=this[y(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};Ms.timer=function(){Ln.apply(this,arguments)},Ms.timer.flush=function(){Tn(),Rn()},Ms.round=function(e,n){return n?Cs(e*(n=Ss(10,n)))/n:Cs(e)};var fa=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"].map(function(a,l){var t=Ss(10,3*Mo(8-l));return{scale:8<l?function(e){return e/t}:function(e){return e*t},symbol:a}});Ms.formatPrefix=function(a,l){var t=0;return(a=+a)&&(0>a&&(a*=-1),l&&(a=Ms.round(a,Nn(a,l))),t=1+hs(1e-12+_s(a)/xs),t=bs(-24,vs(24,3*hs((t-1)/3)))),fa[8+t/3]};var sa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ha=Ms.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,n){return e.toPrecision(n)},e:function(e,n){return e.toExponential(n)},f:function(e,n){return e.toFixed(n)},r:function(e,n){return(e=Ms.round(e,Nn(e,n))).toFixed(bs(0,vs(20,Nn(e*(1+1e-15),n))))}}),pa=Ms.time={},ga=Date;Dn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){va.setUTCDate.apply(this._,arguments)},setDay:function(){va.setUTCDay.apply(this._,arguments)},setFullYear:function(){va.setUTCFullYear.apply(this._,arguments)},setHours:function(){va.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){va.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){va.setUTCMinutes.apply(this._,arguments)},setMonth:function(){va.setUTCMonth.apply(this._,arguments)},setSeconds:function(){va.setUTCSeconds.apply(this._,arguments)},setTime:function(){va.setTime.apply(this._,arguments)}};var va=Date.prototype;pa.year=qn(function(e){return e=pa.day(e),e.setMonth(0,1),e},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e){return e.getFullYear()}),pa.years=pa.year.range,pa.years.utc=pa.year.utc.range,pa.day=qn(function(e){var n=new ga(2e3,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n},function(e,n){e.setDate(e.getDate()+n)},function(e){return e.getDate()-1}),pa.days=pa.day.range,pa.days.utc=pa.day.utc.range,pa.dayOfYear=function(e){var n=pa.year(e);return hs((e-n-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,l){l=7-l;var t=pa[a]=qn(function(e){return(e=pa.day(e)).setDate(e.getDate()-(e.getDay()+l)%7),e},function(e,n){e.setDate(e.getDate()+7*hs(n))},function(t){var n=pa.year(t).getDay();return hs((pa.dayOfYear(t)+(n+l)%7)/7)-(n!==l)});pa[a+"s"]=t.range,pa[a+"s"].utc=t.utc.range,pa[a+"OfYear"]=function(t){var n=pa.year(t).getDay();return hs((pa.dayOfYear(t)+(n+l)%7)/7)}}),pa.week=pa.sunday,pa.weeks=pa.sunday.range,pa.weeks.utc=pa.sunday.utc.range,pa.weekOfYear=pa.sundayOfYear;var da={"-":"",_:" ",0:"0"},ya=/^\s*\d+/,ma=/^%/;Ms.locale=function(e){return{numberFormat:Pn(e),timeFormat:Fn(e)}};var Ma=Ms.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Ms.format=Ma.numberFormat,Ms.geo={},ct.prototype={s:0,t:0,add:function(e){ft(e,this.t,xa),ft(xa.s,this.s,this),this.s?this.t+=xa.t:this.s=xa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xa=new ct;Ms.geo.stream=function(e,n){e&&ba.hasOwnProperty(e.type)?ba[e.type](e,n):st(e,n)};var ba={Feature:function(e,n){st(e.geometry,n)},FeatureCollection:function(a,n){for(var t=a.features,e=-1,l=t.length;++e<l;)st(t[e].geometry,n)}},_a={Sphere:function(e,n){n.sphere()},Point:function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},MultiPoint:function(a,n){for(var t=a.coordinates,e=-1,l=t.length;++e<l;)a=t[e],n.point(a[0],a[1],a[2])},LineString:function(e,n){ht(e.coordinates,n,0)},MultiLineString:function(a,n){for(var t=a.coordinates,e=-1,l=t.length;++e<l;)ht(t[e],n,0)},Polygon:function(e,n){pt(e.coordinates,n)},MultiPolygon:function(a,n){for(var t=a.coordinates,e=-1,l=t.length;++e<l;)pt(t[e],n)},GeometryCollection:function(a,n){for(var t=a.geometries,e=-1,l=t.length;++e<l;)st(t[e],n)}};Ms.geo.area=function(e){return wa=0,Ms.geo.stream(e,ka),wa};var wa,Sa=new ct,ka={sphere:function(){wa+=4*Ps},point:f,lineStart:f,lineEnd:f,polygonStart:function(){Sa.reset(),ka.lineStart=gt},polygonEnd:function(){var e=2*Sa;wa+=0>e?4*Ps+e:e,ka.lineStart=ka.lineEnd=ka.point=f}};Ms.geo.bounds=function(){function _(e,a){c.push(y=[C=e,s=e]),f>a&&(f=a),a>h&&(h=a)}function S(n,a){var e=vt([n*Ds,a*Ds]);if(A){var r=yt(A,e),i=[r[1],-r[0],0],g=yt(i,r);xt(g),g=bt(g);var o=n-p,l=0<o?1:-1,u=g[0]*Yo*l,c=180<Mo(o);if(c^(u>l*p&&l*n>u)){var d=g[1]*Yo;d>h&&(h=d)}else if(u=(u+360)%360-180,c^(u>l*p&&l*n>u)){var d=-g[1]*Yo;f>d&&(f=d)}else f>a&&(f=a),a>h&&(h=a);c?p>n?k(C,n)>k(C,s)&&(s=n):k(n,s)>k(C,s)&&(C=n):s>=C?(C>n&&(C=n),n>s&&(s=n)):n>p?k(C,n)>k(C,s)&&(s=n):k(n,s)>k(C,s)&&(C=n)}else _(n,a);A=e,p=n}function t(){m.point=S}function w(){y[0]=C,y[1]=s,m.point=_,A=null}function E(t,n){if(A){var e=t-p;d+=180<Mo(e)?e+(0<e?360:-360):e}else o=t,g=n;ka.point(t,n),S(t,n)}function i(){ka.lineStart()}function u(){E(o,g),ka.lineEnd(),Mo(d)>Po&&(C=-(s=180)),y[0]=C,y[1]=s,A=null}function k(e,n){return 0>(n-=e)?n+360:n}function a(e,n){return e[0]-n[0]}function l(e,n){return n[0]<=n[1]?n[0]<=e&&e<=n[1]:e<n[0]||n[1]<e}var C,f,s,h,p,o,g,A,d,c,y,m={point:_,lineStart:t,lineEnd:w,polygonStart:function(){m.point=E,m.lineStart=i,m.lineEnd=u,d=0,ka.polygonStart()},polygonEnd:function(){ka.polygonEnd(),m.point=_,m.lineStart=t,m.lineEnd=w,0>Sa?(C=-(s=180),f=-(h=90)):d>Po?h=90:-Po>d&&(f=-90),y[0]=C,y[1]=s}};return function(d){h=s=-(C=f=1/0),c=[],Ms.geo.stream(d,m);var n=c.length;if(n){c.sort(a);for(var t,e=1,r=c[0],i=[r];n>e;++e)t=c[e],l(t[0],r)||l(t[1],r)?(k(r[0],t[1])>k(r[0],r[1])&&(r[1]=t[1]),k(t[0],r[1])>k(r[0],r[1])&&(r[0]=t[0])):i.push(r=t);for(var p,t,o=-(1/0),n=i.length-1,e=0,r=i[n];n>=e;r=t,++e)t=i[e],(p=k(r[1],t[0]))>o&&(o=p,C=t[0],s=r[1])}return c=y=null,C===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[C,f],[s,h]]}}(),Ms.geo.centroid=function(a){Na=Ea=Aa=Ca=za=La=qa=Ta=Ra=Da=Pa=0,Ms.geo.stream(a,Ua);var n=Ra,t=Da,e=Pa,l=n*n+t*t+e*e;return Us>l&&(n=La,t=qa,e=Ta,Po>Ea&&(n=Aa,t=Ca,e=za),l=n*n+t*t+e*e,Us>l)?[NaN,NaN]:[Es(t,n)*Yo,Q(e/ws(l))*Yo]};var Na,Ea,Aa,Ca,za,La,qa,Ta,Ra,Da,Pa,Ua={sphere:f,point:wt,lineStart:kt,lineEnd:gd,polygonStart:function(){Ua.lineStart=pd},polygonEnd:function(){Ua.lineStart=kt}},ja=Tt(Ct,function(d){var n,t=NaN,e=NaN,r=NaN;return{lineStart:function(){d.lineStart(),n=1},point:function(i,s){var o=0<i?Ps:-Ps,a=Mo(i-t);Mo(a-Ps)<Po?(d.point(t,e=0<(e+s)/2?Ho:-Ho),d.point(r,e),d.lineEnd(),d.lineStart(),d.point(o,e),d.point(i,e),n=0):r!==o&&a>=Ps&&(Mo(t-r)<Po&&(t-=r*Po),Mo(i-o)<Po&&(i-=o*Po),e=Ut(t,e,i,s),d.point(r,e),d.lineEnd(),d.lineStart(),d.point(o,e),n=0),d.point(t=i,e=s),r=o},lineEnd:function(){d.lineEnd(),t=e=NaN},clean:function(){return 2-n}}},function(a,n,t,e){var l;if(null==a)l=t*Ho,e.point(-Ps,l),e.point(0,l),e.point(Ps,l),e.point(Ps,0),e.point(Ps,-l),e.point(0,-l),e.point(-Ps,-l),e.point(-Ps,0),e.point(-Ps,l);else if(Mo(a[0]-n[0])>Po){var r=a[0]<n[0]?Ps:-Ps;l=t*r/2,e.point(-r,l),e.point(0,l),e.point(r,l)}else e.point(n[0],n[1])},[-Ps,-Ps/2]),Fa=1e9;Ms.geo.clipExtent=function(){var l,n,t,e,r,i,d={stream:function(e){return r&&(r.valid=!1),r=i(e),r.valid=!0,r},extent:function(o){return arguments.length?(i=Yt(l=+o[0][0],n=+o[0][1],t=+o[1][0],e=+o[1][1]),r&&(r.valid=!1,r=null),d):[[l,n],[t,e]]}};return d.extent([[0,0],[960,500]])},(Ms.geo.conicEqualArea=function(){return Zt(Vt)}).raw=Vt,Ms.geo.albers=function(){return Ms.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ms.geo.albersUsa=function(){function d(t){var a=t[0],l=t[1];return s=null,g(a,l),s||(e(a,l),s)||r(a,l),s}var s,g,e,r,p=Ms.geo.albers(),h=Ms.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=Ms.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),n={point:function(t,n){s=[t,n]}};return d.invert=function(a){var n=p.scale(),t=p.translate(),e=(a[0]-t[0])/n,l=(a[1]-t[1])/n;return(.12<=l&&.234>l&&-.425<=e&&-.214>e?h:.166<=l&&.234>l&&-.214<=e&&-.115>e?o:p).invert(a)},d.stream=function(a){var l=p.stream(a),t=h.stream(a),e=o.stream(a);return{point:function(a,n){l.point(a,n),t.point(a,n),e.point(a,n)},sphere:function(){l.sphere(),t.sphere(),e.sphere()},lineStart:function(){l.lineStart(),t.lineStart(),e.lineStart()},lineEnd:function(){l.lineEnd(),t.lineEnd(),e.lineEnd()},polygonStart:function(){l.polygonStart(),t.polygonStart(),e.polygonStart()},polygonEnd:function(){l.polygonEnd(),t.polygonEnd(),e.polygonEnd()}}},d.precision=function(e){return arguments.length?(p.precision(e),h.precision(e),o.precision(e),d):p.precision()},d.scale=function(e){return arguments.length?(p.scale(e),h.scale(.35*e),o.scale(e),d.translate(p.translate())):p.scale()},d.translate=function(a){if(!arguments.length)return p.translate();var t=p.scale(),l=+a[0],i=+a[1];return g=p.translate(a).clipExtent([[l-.455*t,i-.238*t],[l+.455*t,i+.238*t]]).stream(n).point,e=h.translate([l-.307*t,i+.201*t]).clipExtent([[l-.425*t+Po,i+.12*t+Po],[l-.214*t-Po,i+.234*t-Po]]).stream(n).point,r=o.translate([l-.205*t,i+.212*t]).clipExtent([[l-.214*t+Po,i+.166*t+Po],[l-.115*t-Po,i+.234*t-Po]]).stream(n).point,d},d.scale(1070)};var qs,Oa,Ia,Ya,Za,Va,Xa={point:f,lineStart:f,lineEnd:f,polygonStart:function(){Oa=0,Xa.lineStart=Xt},polygonEnd:function(){Xa.lineStart=Xa.lineEnd=Xa.point=f,qs+=Mo(Oa/2)}},$a={point:function(e,n){Ia>e&&(Ia=e),e>Za&&(Za=e),Ya>n&&(Ya=n),n>Va&&(Va=n)},lineStart:f,lineEnd:f,polygonStart:f,polygonEnd:f},Ba={point:Jt,lineStart:hd,lineEnd:ud,polygonStart:function(){Ba.lineStart=cd},polygonEnd:function(){Ba.point=Jt,Ba.lineStart=hd,Ba.lineEnd=ud}};Ms.geo.path=function(){function l(e){return e&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),s&&s.valid||(s=r(i)),Ms.geo.stream(e,s)),i.result()}function d(){return s=null,l}var t,e,r,i,s,o=4.5;return l.area=function(e){return qs=0,Ms.geo.stream(e,r(Xa)),qs},l.centroid=function(e){return Aa=Ca=za=La=qa=Ta=Ra=Da=Pa=0,Ms.geo.stream(e,r(Ba)),Pa?[Ra/Pa,Da/Pa]:Ta?[La/Ta,qa/Ta]:za?[Aa/za,Ca/za]:[NaN,NaN]},l.bounds=function(e){return Za=Va=-(Ia=Ya=1/0),Ms.geo.stream(e,r($a)),[[Ia,Ya],[Za,Va]]},l.projection=function(e){return arguments.length?(r=(t=e)?e.stream||ee(e):Pr,d()):t},l.context=function(t){return arguments.length?(i=null==(e=t)?new $t:new ne(t),"function"!=typeof o&&i.pointRadius(o),d()):e},l.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(i.pointRadius(+e),+e),l):o},l.projection(Ms.geo.albersUsa()).context(null)},Ms.geo.transform=function(t){return{stream:function(n){var a=new re(n);for(var e in t)a[e]=t[e];return a}}},re.prototype={point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ms.geo.projection=ue,Ms.geo.projectionMutator=oe,(Ms.geo.equirectangular=function(){return ue(le)}).raw=le.invert=le,Ms.geo.rotation=function(e){function n(n){return n=e(n[0]*Ds,n[1]*Ds),n[0]*=Yo,n[1]*=Yo,n}return e=fe(e[0]%360*Ds,e[1]*Ds,2<e.length?e[2]*Ds:0),n.invert=function(n){return n=e.invert(n[0]*Ds,n[1]*Ds),n[0]*=Yo,n[1]*=Yo,n},n},ce.invert=le,Ms.geo.circle=function(){function a(){var a="function"==typeof e?e.apply(this,arguments):e,o=fe(-a[0]*Ds,-a[1]*Ds,0).invert,t=[];return l(null,null,1,{point:function(a,n){t.push(a=o(a,n)),a[0]*=Yo,a[1]*=Yo}}),{type:"Polygon",coordinates:[t]}}var n,l,e=[0,0],t=6;return a.origin=function(n){return arguments.length?(e=n,a):e},a.angle=function(e){return arguments.length?(l=ge((n=+e)*Ds,t*Ds),a):n},a.precision=function(e){return arguments.length?(l=ge(n*Ds,(t=+e)*Ds),a):t},a.angle(90)},Ms.geo.distance=function(d,n){var t,e=(n[0]-d[0])*Ds,r=d[1]*Ds,i=n[1]*Ds,g=As(e),o=ks(e),a=As(r),l=ks(r),p=As(i),h=ks(i);return Es(ws((t=h*g)*t+(t=l*p-a*h*o)*t),a*p+l*h*o)},Ms.geo.graticule=function(){function x(){return{type:"MultiLineString",coordinates:n()}}function n(){return Ms.range(fs(i/v)*v,r,v).map(s).concat(Ms.range(fs(l/d)*d,a,d).map(h)).concat(Ms.range(fs(e/p)*p,_,p).filter(function(e){return Mo(e%v)>Po}).map(c)).concat(Ms.range(fs(o/g)*g,u,g).filter(function(e){return Mo(e%d)>Po}).map(f))}var _,e,r,i,u,o,a,l,c,f,s,h,p=10,g=p,v=90,d=360,y=2.5;return x.lines=function(){return n().map(function(e){return{type:"LineString",coordinates:e}})},x.outline=function(){return{type:"Polygon",coordinates:[s(i).concat(h(a).slice(1),s(r).reverse().slice(1),h(l).reverse().slice(1))]}},x.extent=function(e){return arguments.length?x.majorExtent(e).minorExtent(e):x.minorExtent()},x.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],l=+e[0][1],a=+e[1][1],i>r&&(e=i,i=r,r=e),l>a&&(e=l,l=a,a=e),x.precision(y)):[[i,l],[r,a]]},x.minorExtent=function(n){return arguments.length?(e=+n[0][0],_=+n[1][0],o=+n[0][1],u=+n[1][1],e>_&&(n=e,e=_,_=n),o>u&&(n=o,o=u,u=n),x.precision(y)):[[e,o],[_,u]]},x.step=function(e){return arguments.length?x.majorStep(e).minorStep(e):x.minorStep()},x.majorStep=function(e){return arguments.length?(v=+e[0],d=+e[1],x):[v,d]},x.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],x):[p,g]},x.precision=function(n){return arguments.length?(y=+n,c=de(o,u,90),f=ye(e,_,y),s=de(l,a,90),h=ye(i,r,y),x):y},x.majorExtent([[-180,-90+Po],[180,90-Po]]).minorExtent([[-180,-80-Po],[180,80+Po]])},Ms.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[n||t.apply(this,arguments),l||e.apply(this,arguments)]}}var n,l,t=me,e=Me;return a.distance=function(){return Ms.geo.distance(n||t.apply(this,arguments),l||e.apply(this,arguments))},a.source=function(l){return arguments.length?(t=l,n="function"==typeof l?null:l,a):t},a.target=function(n){return arguments.length?(e=n,l="function"==typeof n?null:n,a):e},a.precision=function(){return arguments.length?a:0},a},Ms.geo.interpolate=function(e,n){return xe(e[0]*Ds,e[1]*Ds,n[0]*Ds,n[1]*Ds)},Ms.geo.length=function(e){return Wa=0,Ms.geo.stream(e,Ja),Wa};var Wa,Ja={sphere:f,point:f,lineStart:function(){function a(r,s){var i=As(s*=Ds),g=ks(s),o=Mo((r*=Ds)-d),a=ks(o);Wa+=Es(ws((o=g*As(o))*o+(o=e*i-t*g*a)*o),t*i+e*g*a),d=r,t=i,e=g}var d,t,e;Ja.point=function(n,l){d=n*Ds,t=As(l*=Ds),e=ks(l),Ja.point=a},Ja.lineEnd=function(){Ja.point=Ja.lineEnd=f}},lineEnd:f,polygonStart:f,polygonEnd:f},Ga=be(function(e){return ws(2/(1+e))},function(e){return 2*Ls(e/2)});(Ms.geo.azimuthalEqualArea=function(){return ue(Ga)}).raw=Ga;var Ka=be(function(e){var n=Ts(e);return n&&n/As(n)},Pr);(Ms.geo.azimuthalEquidistant=function(){return ue(Ka)}).raw=Ka,(Ms.geo.conicConformal=function(){return Zt(we)}).raw=we,(Ms.geo.conicEquidistant=function(){return Zt(Se)}).raw=Se;var Qa=be(function(e){return 1/e},Math.atan);(Ms.geo.gnomonic=function(){return ue(Qa)}).raw=Qa,ke.invert=function(e,n){return[e,2*ms(zs(n))-Ho]},(Ms.geo.mercator=function(){return Ne(ke)}).raw=ke;var nl=be(function(){return 1},Math.asin);(Ms.geo.orthographic=function(){return ue(nl)}).raw=nl;var tl=be(function(e){return 1/(1+e)},function(e){return 2*ms(e)});(Ms.geo.stereographic=function(){return ue(tl)}).raw=tl,Ee.invert=function(e,n){return[-n,2*ms(zs(e))-Ho]},(Ms.geo.transverseMercator=function(){var a=Ne(Ee),l=a.center,t=a.rotate;return a.center=function(e){return e?l([-e[1],e[0]]):(e=l(),[e[1],-e[0]])},a.rotate=function(e){return e?t([e[0],e[1],2<e.length?e[2]+90:90]):(e=t(),[e[0],e[1],e[2]-90])},t([0,0,90])}).raw=Ee,Ms.geom={},Ms.geom.hull=function(a){function l(r){if(3>r.length)return[];var n,g=kn(d),i=kn(e),u=r.length,o=[],a=[];for(n=0;u>n;n++)o.push([+g.call(this,r[n],n),+i.call(this,r[n],n),n]);for(o.sort(Le),n=0;u>n;n++)a.push([o[n][0],-o[n][1]]);var l=ze(o),c=ze(a),y=c[0]===l[0],m=c[c.length-1]===l[l.length-1],h=[];for(n=l.length-1;0<=n;--n)h.push(r[o[l[n]][2]]);for(n=+y;n<c.length-m;++n)h.push(r[o[c[n]][2]]);return h}var d=Ae,e=Ce;return arguments.length?l(a):(l.x=function(e){return arguments.length?(d=e,l):d},l.y=function(t){return arguments.length?(e=t,l):e},l)},Ms.geom.polygon=function(e){return So(e,el),e};var el=Ms.geom.polygon.prototype=[];el.area=function(){for(var a,n=-1,t=this.length,e=this[t-1],l=0;++n<t;)a=e,e=this[n],l+=a[1]*e[0]-a[0]*e[1];return .5*l},el.centroid=function(l){var n,t,e=-1,r=this.length,i=0,d=0,o=this[r-1];for(arguments.length||(l=-1/(6*this.area()));++e<r;)n=o,o=this[e],t=n[0]*o[1]-o[0]*n[1],i+=(n[0]+o[0])*t,d+=(n[1]+o[1])*t;return[i*l,d*l]},el.clip=function(d){for(var n,t,e,r,i,s,o=Re(d),a=-1,l=this.length-Re(this),g=this[l-1];++a<l;){for(n=d.slice(),d.length=0,r=this[a],i=n[(e=n.length-o)-1],t=-1;++t<e;)s=n[t],qe(s,g,r)?(qe(i,g,r)||d.push(Te(i,s,g,r)),d.push(s)):qe(i,g,r)&&d.push(Te(i,s,g,r)),i=s;o&&d.push(d[0]),g=r}return d};var rl,Hs,Fs,ol,al,ll=[],cl=[];Ie.prototype.prepare=function(){for(var a,n=this.edges,t=n.length;t--;)a=n[t].edge,a.b&&a.a||n.splice(t,1);return n.sort(Ze),n.length},nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},tr.prototype={insert:function(a,n){var t,e,l;if(a){if(n.P=a,n.N=a.N,a.N&&(a.N.P=n),a.N=n,a.R){for(a=a.R;a.L;)a=a.L;a.L=n}else a.R=n;t=a}else this._?(a=ur(this._),n.P=null,n.N=a,a.P=a.L=n,t=a):(n.P=n.N=null,this._=n,t=null);for(n.L=n.R=null,n.U=t,n.C=!0,a=n;t&&t.C;)e=t.U,t===e.L?(l=e.R,l&&l.C?(t.C=l.C=!1,e.C=!0,a=e):(a===t.R&&(rr(this,t),a=t,t=a.U),t.C=!1,e.C=!0,ir(this,e))):(l=e.L,l&&l.C?(t.C=l.C=!1,e.C=!0,a=e):(a===t.L&&(ir(this,t),a=t,t=a.U),t.C=!1,e.C=!0,rr(this,e))),t=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var n,t,e,l=a.U,i=a.L,d=a.R;if(t=i?d?ur(d):i:d,l?l.L===a?l.L=t:l.R=t:this._=t,i&&d?(e=t.C,t.C=a.C,t.L=i,i.U=t,t===d?(t.U=l,l=t,a=t.R):(l=t.U,t.U=a.U,a=t.R,l.L=a,t.R=d,d.U=t)):(e=a.C,a=t),a&&(a.U=l),!e){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===l.L){if(n=l.R,n.C&&(n.C=!1,l.C=!0,rr(this,l),n=l.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ir(this,n),n=l.R),n.C=l.C,l.C=n.R.C=!1,rr(this,l),a=this._;break}}else if(n=l.L,n.C&&(n.C=!1,l.C=!0,ir(this,l),n=l.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,rr(this,n),n=l.L),n.C=l.C,l.C=n.L.C=!1,ir(this,l),a=this._;break}n.C=!0,a=l,l=l.U}while(!a.C);a&&(a.C=!1)}}},Ms.geom.voronoi=function(l){function d(d){var n=Array(d.length),p=g[0][0],r=g[0][1],i=g[1][0],h=g[1][1];return or(s(d),g).cells.forEach(function(t,e){var a=t.edges,l=t.site,o=n[e]=a.length?a.map(function(e){var n=e.start();return[n.x,n.y]}):l.x>=p&&l.x<=i&&l.y>=r&&l.y<=h?[[p,h],[i,h],[i,r],[p,r]]:[];o.point=d[e]}),n}function s(e){return e.map(function(e,n){return{x:Cs(r(e,n)/Po)*Po,y:Cs(i(e,n)/Po)*Po,i:n}})}var e=Ae,t=Ce,r=e,i=t,g=fl;return l?d(l):(d.links=function(e){return or(s(e)).edges.filter(function(e){return e.l&&e.r}).map(function(n){return{source:e[n.l.i],target:e[n.r.i]}})},d.triangles=function(d){var n=[];return or(s(d)).cells.forEach(function(t,e){for(var r,i,g=t.site,o=t.edges.sort(Ze),a=-1,l=o.length,p=o[l-1].edge,h=p.l===g?p.r:p.l;++a<l;)r=p,i=h,p=o[a].edge,h=p.l===g?p.r:p.l,e<i.i&&e<h.i&&0>lr(g,i,h)&&n.push([d[e],d[i.i],d[h.i]])}),n},d.x=function(t){return arguments.length?(r=kn(e=t),d):e},d.y=function(e){return arguments.length?(i=kn(t=e),d):t},d.clipExtent=function(e){return arguments.length?(g=null==e?fl:e,d):g===fl?null:g},d.size=function(e){return arguments.length?d.clipExtent(e&&[[0,0],e]):g===fl?null:g&&g[1]},d)};var fl=[[-1000000,-1000000],[1000000,1000000]];Ms.geom.delaunay=function(e){return Ms.geom.voronoi().triangles(e)},Ms.geom.quadtree=function(d,E,t,e,r){function i(l){function A(d,n,t,e,r,i,g,o){if(!isNaN(t)&&!isNaN(e))if(d.leaf){var a=d.x,l=d.y;if(!(null!=a))d.x=t,d.y=e,d.point=n;else if(.01>Mo(a-t)+Mo(l-e))z(d,n,t,e,r,i,g,o);else{var p=d.point;d.x=d.y=d.point=null,z(d,p,a,l,r,i,g,o),z(d,n,t,e,r,i,g,o)}}else z(d,n,t,e,r,i,g,o)}function z(d,n,t,e,r,i,o,a){var l=.5*(r+o),g=.5*(i+a),u=t>=l,s=e>=g,h=s<<1|u;d.leaf=!1,d=d.nodes[h]||(d.nodes[h]=sr()),u?r=l:o=l,s?i=g:a=g,A(d,n,t,e,r,i,o,a)}var n,i,s,h,p,g,c,d,y,m=kn(o),f=kn(a);if(null!=E)g=E,c=t,d=e,y=r;else if(d=y=-(g=c=1/0),i=[],s=[],p=l.length,C)for(h=0;p>h;++h)n=l[h],n.x<g&&(g=n.x),n.y<c&&(c=n.y),n.x>d&&(d=n.x),n.y>y&&(y=n.y),i.push(n.x),s.push(n.y);else for(h=0;p>h;++h){var x=+m(n=l[h],h),v=+f(n,h);g>x&&(g=x),c>v&&(c=v),x>d&&(d=x),v>y&&(y=v),i.push(x),s.push(v)}var _=d-g,b=y-c;_>b?y=c+_:d=g+b;var S=sr();if(S.add=function(e){A(S,e,+m(e,++h),+f(e,h),g,c,d,y)},S.visit=function(e){hr(e,S,g,c,d,y)},S.find=function(e){return pr(S,e[0],e[1],g,c,d,y)},h=-1,null==E){for(;++h<p;)A(S,l[h],i[h],s[h],g,c,d,y);--h}else l.forEach(S.add);return i=s=l=n=null,S}var C,o=Ae,a=Ce;return(C=arguments.length)?(o=cr,a=fr,3===C&&(r=t,e=E,t=E=0),i(d)):(i.x=function(e){return arguments.length?(o=e,i):o},i.y=function(e){return arguments.length?(a=e,i):a},i.extent=function(a){return arguments.length?(null==a?E=t=e=r=null:(E=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),i):null==E?null:[[E,t],[e,r]]},i.size=function(a){return arguments.length?(null==a?E=t=e=r=null:(E=t=0,e=+a[0],r=+a[1]),i):null==E?null:[e-E,r-t]},i)},Ms.interpolateRgb=gr,Ms.interpolateObject=vr,Ms.interpolateNumber=dr,Ms.interpolateString=yr;var sl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(sl.source,"g");Ms.interpolate=mr,Ms.interpolators=[function(a,n){var l=typeof n;return("string"===l?ia.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?gr:yr:n instanceof rn?gr:Array.isArray(n)?Mr:"object"===l&&isNaN(n)?vr:dr)(a,n)}],Ms.interpolateArray=Mr;var pl=function(){return Pr},Ys=Ms.map({linear:pl,poly:function(e){return function(n){return Ss(n,e)}},quad:function(){return md},cubic:function(){return Sr},sin:function(){return fd},exp:function(){return Ar},circle:function(){return Cr},elastic:function(a,n){var t;return 2>arguments.length&&(n=.45),arguments.length?t=n/js*Ls(1/a):(a=1,t=n/4),function(e){return 1+a*Ss(2,-10*e)*As((e-t)*js/n)}},back:function(e){return e||(e=1.70158),function(n){return n*n*((e+1)*n-e)}},bounce:function(){return zr}}),vl=Ms.map({in:Pr,out:br,"in-out":yd,"out-in":function(e){return yd(br(e))}});Ms.ease=function(a){var n=a.indexOf("-"),t=0<=n?a.slice(0,n):a,e=0<=n?a.slice(n+1):"in";return t=Ys.get(t)||pl,e=vl.get(e)||Pr,xr(e(t.apply(null,ao.call(arguments,1))))},Ms.interpolateHcl=function(l,n){l=Ms.hcl(l),n=Ms.hcl(n);var t=l.h,e=l.c,r=l.l,i=n.h-t,d=n.c-e,o=n.l-r;return isNaN(d)&&(d=0,e=isNaN(e)?n.c:e),isNaN(i)?(i=0,t=isNaN(t)?n.h:t):180<i?i-=360:-180>i&&(i+=360),function(a){return un(t+i*a,e+d*a,r+o*a)+""}},Ms.interpolateHsl=function(l,n){l=Ms.hsl(l),n=Ms.hsl(n);var t=l.h,e=l.s,r=l.l,i=n.h-t,d=n.s-e,o=n.l-r;return isNaN(d)&&(d=0,e=isNaN(e)?n.s:e),isNaN(i)?(i=0,t=isNaN(t)?n.h:t):180<i?i-=360:-180>i&&(i+=360),function(a){return ln(t+i*a,e+d*a,r+o*a)+""}},Ms.interpolateLab=function(l,n){l=Ms.lab(l),n=Ms.lab(n);var t=l.l,e=l.a,r=l.b,i=n.l-t,d=n.a-e,o=n.b-r;return function(a){return hn(t+i*a,e+d*a,r+o*a)+""}},Ms.interpolateRound=Tr,Ms.transform=function(e){var a=co.createElementNS(Ms.ns.prefix.svg,"g");return(Ms.transform=function(t){if(null!=t){a.setAttribute("transform",t);var n=a.transform.baseVal.consolidate()}return new Ur(n?n.matrix:dl)})(e)},Ur.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dl={a:1,b:0,c:0,d:1,e:0,f:0};Ms.interpolateTransform=Xr,Ms.layout={},Ms.layout.bundle=function(){return function(a){for(var n=[],t=-1,e=a.length;++t<e;)n.push(Wr(a[t]));return n}},Ms.layout.chord=function(){function d(){var l,f,k,C,h,p={},g=[],v=Ms.range(i),d=[];for(t=[],e=[],l=0,C=-1;++C<i;){for(f=0,h=-1;++h<i;)f+=r[C][h];g.push(f),d.push(Ms.range(i)),l+=f}for(u&&v.sort(function(e,n){return u(g[e],g[n])}),o&&d.forEach(function(e,a){e.sort(function(t,n){return o(r[a][t],r[a][n])})}),l=(js-S*i)/l,f=0,C=-1;++C<i;){for(k=f,h=-1;++h<i;){var y=v[C],A=d[y][h],z=r[y][A],L=f,T=f+=z*l;p[y+"-"+A]={index:y,subindex:A,startAngle:L,endAngle:T,value:z}}e[y]={index:y,startAngle:k,endAngle:f,value:g[y]},f+=S}for(C=-1;++C<i;)for(h=C-1;++h<i;){var R=p[C+"-"+h],N=p[h+"-"+C];(R.value||N.value)&&t.push(R.value<N.value?{source:N,target:R}:{source:R,target:N})}a&&E()}function E(){t.sort(function(e,n){return a((e.source.value+e.target.value)/2,(n.source.value+n.target.value)/2)})}var t,e,r,i,u,o,a,l={},S=0;return l.matrix=function(a){return arguments.length?(i=(r=a)&&r.length,t=e=null,l):r},l.padding=function(a){return arguments.length?(S=a,t=e=null,l):S},l.sortGroups=function(a){return arguments.length?(u=a,t=e=null,l):u},l.sortSubgroups=function(e){return arguments.length?(o=e,t=null,l):o},l.sortChords=function(e){return arguments.length?(a=e,t&&E(),l):a},l.chords=function(){return t||d(),t},l.groups=function(){return e||d(),e},l},Ms.layout.force=function(){function m(s){return function(n,t,e,g){if(n.point!==s){var i=n.cx-s.x,p=n.cy-s.y,o=g-t,a=i*i+p*p;if(a>o*o/d){if(r>a){var l=n.charge/a;s.px-=i*l,s.py-=p*l}return!0}if(n.point&&a&&r>a){var l=n.pointCharge/a;s.px-=i*l,s.py-=p*l}}return!n.charge}}function n(e){e.px=Ms.event.x,e.py=Ms.event.y,a.resume()}var S,e,E,_,u,o,a={},k=Ms.dispatch("start","tick","end"),C=[1,1],t=.9,l=yl,f=ml,A=-30,r=Ml,s=.1,d=.64,z=[],L=[];return a.tick=function(){if(.005>(E*=.99))return S=null,k.end({type:"end",alpha:E=0}),!0;var e,n,a,l,r,d,g,p,h,c=z.length,y=L.length;for(n=0;y>n;++n)a=L[n],l=a.source,r=a.target,p=r.x-l.x,h=r.y-l.y,(d=p*p+h*h)&&(d=E*u[n]*((d=ws(d))-_[n])/d,p*=d,h*=d,r.x-=p*(g=l.weight+r.weight?l.weight/(l.weight+r.weight):.5),r.y-=h*g,l.x+=p*(g=1-g),l.y+=h*g);if((g=E*s)&&(p=C[0]/2,h=C[1]/2,n=-1,g))for(;++n<c;)a=z[n],a.x+=(p-a.x)*g,a.y+=(h-a.y)*g;if(A)for(ei(e=Ms.geom.quadtree(z),E,o),n=-1;++n<c;)(a=z[n]).fixed||e.visit(m(a));for(n=-1;++n<c;)a=z[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*t,a.y-=(a.py-(a.py=a.y))*t);k.tick({type:"tick",alpha:E})},a.nodes=function(e){return arguments.length?(z=e,a):z},a.links=function(e){return arguments.length?(L=e,a):L},a.size=function(e){return arguments.length?(C=e,a):C},a.linkDistance=function(e){return arguments.length?(l="function"==typeof e?e:+e,a):l},a.distance=a.linkDistance,a.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,a):f},a.friction=function(e){return arguments.length?(t=+e,a):t},a.charge=function(e){return arguments.length?(A="function"==typeof e?e:+e,a):A},a.chargeDistance=function(e){return arguments.length?(r=e*e,a):ws(r)},a.gravity=function(e){return arguments.length?(s=+e,a):s},a.theta=function(e){return arguments.length?(d=e*e,a):ws(d)},a.alpha=function(e){return arguments.length?(e=+e,E?0<e?E=e:(S.c=null,S.t=NaN,S=null,k.end({type:"end",alpha:E=0})):0<e&&(k.start({type:"start",alpha:E=e}),S=Ln(a.tick)),a):E},a.start=function(){function d(d,s){if(!t){for(t=Array(r),a=0;r>a;++a)t[a]=[];for(a=0;i>a;++a){var g=L[a];t[g.source.index].push(g.target),t[g.target.index].push(g.source)}}for(var p,o=t[y],a=-1,l=o.length;++a<l;)if(!isNaN(p=o[a][d]))return p;return Math.random()*s}var y,t,n,r=z.length,i=L.length,c=C[0],s=C[1];for(y=0;r>y;++y)(n=z[y]).index=y,n.weight=0;for(y=0;i>y;++y)n=L[y],"number"==typeof n.source&&(n.source=z[n.source]),"number"==typeof n.target&&(n.target=z[n.target]),++n.source.weight,++n.target.weight;for(y=0;r>y;++y)n=z[y],isNaN(n.x)&&(n.x=d("x",c)),isNaN(n.y)&&(n.y=d("y",s)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(_=[],"function"==typeof l)for(y=0;i>y;++y)_[y]=+l.call(this,L[y],y);else for(y=0;i>y;++y)_[y]=l;if(u=[],"function"==typeof f)for(y=0;i>y;++y)u[y]=+f.call(this,L[y],y);else for(y=0;i>y;++y)u[y]=f;if(o=[],"function"==typeof A)for(y=0;r>y;++y)o[y]=+A.call(this,z[y],y);else for(y=0;r>y;++y)o[y]=A;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=Ms.behavior.drag().origin(Pr).on("dragstart.force",Kr).on("drag.force",n).on("dragend.force",Qr)),arguments.length?void this.on("mouseover.force",ni).on("mouseout.force",ti).call(e):e},Ms.rebind(a,k,"on")};var yl=20,ml=1,Ml=1/0;Ms.layout.hierarchy=function(){function d(e){var t,r=[e],i=[];for(e.depth=0;null!=(t=r.pop());)if(i.push(t),(l=n.call(d,t,t.depth))&&(o=l.length)){for(var o,l,g;0<=--o;)r.push(g=l[o]),g.parent=t,g.depth=t.depth+1;s&&(t.value=0),t.children=l}else s&&(t.value=+s.call(d,t,t.depth)||0),delete t.children;return ui(e,function(t){var n,e;a&&(n=t.children)&&n.sort(a),s&&(e=t.parent)&&(e.value+=t.value)}),i}var a=li,n=oi,s=ai;return d.sort=function(t){return arguments.length?(a=t,d):a},d.children=function(e){return arguments.length?(n=e,d):n},d.value=function(e){return arguments.length?(s=e,d):s},d.revalue=function(e){return s&&(ii(e,function(e){e.children&&(e.value=0)}),ui(e,function(n){var t;n.children||(n.value=+s.call(d,n,n.depth)||0),(t=n.parent)&&(t.value+=n.value)})),e},d},Ms.layout.partition=function(){function d(n,t,e,r){var i=n.children;if(n.x=t,n.y=n.depth*r,n.dx=e,n.dy=r,i&&(s=i.length)){var s,o,a,l=-1;for(e=n.value?e/n.value:0;++l<s;)d(o=i[l],t,a=o.value*e,r),t+=a}}function n(t){var a=t.children,e=0;if(a&&(l=a.length))for(var l,r=-1;++r<l;)e=bs(e,n(a[r]));return 1+e}function t(t,r){var i=a.call(this,t,r);return d(i[0],0,l[0],l[1]/n(i[0])),i}var a=Ms.layout.hierarchy(),l=[1,1];return t.size=function(e){return arguments.length?(l=e,t):l},ri(t,a)},Ms.layout.pie=function(){function a(b){var t,o=b.length,l=b.map(function(t,e){return+n.call(a,t,e)}),c=+("function"==typeof e?e.apply(this,arguments):e),S=("function"==typeof x?x.apply(this,arguments):x)-c,s=vs(oo(S)/o,+("function"==typeof _?_.apply(this,arguments):_)),w=s*(0>S?-1:1),p=Ms.sum(l),g=p?(S-o*w)/p:0,v=Ms.range(o),d=[];return null!=m&&v.sort(m===xl?function(e,n){return l[n]-l[e]}:function(e,n){return m(b[e],b[n])}),v.forEach(function(e){d[e]={data:b[e],value:t=l[e],startAngle:c,endAngle:c+=t*g+w,padAngle:s}}),d}var n=Number,m=xl,e=0,x=js,_=0;return a.value=function(t){return arguments.length?(n=t,a):n},a.sort=function(e){return arguments.length?(m=e,a):m},a.startAngle=function(n){return arguments.length?(e=n,a):e},a.endAngle=function(e){return arguments.length?(x=e,a):x},a.padAngle=function(e){return arguments.length?(_=e,a):_},a};var xl={};Ms.layout.stack=function(){function m(t,i){if(!(s=t.length))return t;var o=t.map(function(t,e){return n.call(m,t,e)}),u=o.map(function(e){return e.map(function(n,t){return[l.call(m,n,t),r.call(m,n,t)]})}),c=x.call(m,u,i);o=Ms.permute(o,c),u=Ms.permute(u,c);var s,h,p,g,f=e.call(m,u,i),d=o[0].length;for(p=0;d>p;++p)for(a.call(m,o[0][p],g=f[p],u[0][p][1]),h=1;s>h;++h)a.call(m,o[h][p],g+=u[h-1][p][1],u[h][p][1]);return t}var n=Pr,x=pi,e=xd,a=hi,l=fi,r=si;return m.values=function(t){return arguments.length?(n=t,m):n},m.order=function(e){return arguments.length?(x="function"==typeof e?e:bl.get(e)||pi,m):x},m.offset=function(n){return arguments.length?(e="function"==typeof n?n:_l.get(n)||xd,m):e},m.x=function(e){return arguments.length?(l=e,m):l},m.y=function(e){return arguments.length?(r=e,m):r},m.out=function(e){return arguments.length?(a=e,m):a},m};var bl=Ms.map({"inside-out":function(d){var n,t,e=d.length,r=d.map(_d),i=d.map(di),s=Ms.range(e).sort(function(e,n){return r[e]-r[n]}),o=0,a=0,l=[],g=[];for(n=0;e>n;++n)t=s[n],a>o?(o+=i[t],l.push(t)):(a+=i[t],g.push(t));return g.reverse().concat(l)},reverse:function(e){return Ms.range(e.length).reverse()},default:pi}),_l=Ms.map({silhouette:function(d){var n,t,e,r=d.length,i=d[0].length,s=[],o=0,a=[];for(t=0;i>t;++t){for(n=0,e=0;r>n;n++)e+=d[n][t][1];e>o&&(o=e),s.push(e)}for(t=0;i>t;++t)a[t]=(o-s[t])/2;return a},wiggle:function(d){var n,t,e,r,i,g,o,a,l,u=d.length,c=d[0],s=c.length,h=[];for(h[0]=a=l=0,t=1;s>t;++t){for(n=0,r=0;u>n;++n)r+=d[n][t][1];for(n=0,i=0,o=c[t][0]-c[t-1][0];u>n;++n){for(e=0,g=(d[n][t][1]-d[n][t-1][1])/(2*o);n>e;++e)g+=(d[e][t][1]-d[e][t-1][1])/o;i+=g*d[n][t][1]}h[t]=a-=r?i/r*o:0,l>a&&(l=a)}for(t=0;s>t;++t)h[t]-=l;return h},expand:function(l){var n,t,e,r=l.length,i=l[0].length,o=[];for(t=0;i>t;++t){for(n=0,e=0;r>n;n++)e+=l[n][t][1];if(e)for(n=0;r>n;n++)l[n][t][1]/=e;else for(n=0;r>n;n++)l[n][t][1]=1/r}for(t=0;i>t;++t)o[t]=0;return o},zero:xd});Ms.layout.histogram=function(){function a(t,i){for(var u,o,a=[],l=t.map(g,this),c=e.call(this,l,i),y=r.call(this,c,l,i),i=-1,s=l.length,h=y.length-1,p=d?1:1/s;++i<h;)u=a[i]=[],u.dx=y[i+1]-(u.x=y[i]),u.y=0;if(0<h)for(i=-1;++i<s;)o=l[i],o>=c[0]&&o<=c[1]&&(u=a[Ms.bisect(y,o,1,h)-1],u.y+=p,u.push(t[i]));return a}var d=!0,g=Number,e=xi,r=mi;return a.value=function(e){return arguments.length?(g=e,a):g},a.range=function(n){return arguments.length?(e=kn(n),a):e},a.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return Mi(t,e)}:kn(e),a):r},a.frequency=function(t){return arguments.length?(d=!!t,a):d},a},Ms.layout.pack=function(){function a(i,p){var h=g.call(this,i,p),o=h[0],a=r[0],l=r[1],u=null==d?ws:"function"==typeof d?d:function(){return d};if(o.x=o.y=0,ui(o,function(e){e.r=+u(e.value)}),ui(o,ki),e){var c=e*(d?1:bs(2*o.r/a,2*o.r/l))/2;ui(o,function(e){e.r+=c}),ui(o,ki),ui(o,function(e){e.r-=c})}return Ai(o,a/2,l/2,d?1:1/bs(2*o.r/a,2*o.r/l)),h}var d,g=Ms.layout.hierarchy().sort(bi),e=0,r=[1,1];return a.size=function(e){return arguments.length?(r=e,a):r},a.radius=function(t){return arguments.length?(d=null==t||"function"==typeof t?t:+t,a):d},a.padding=function(n){return arguments.length?(e=+n,a):e},ri(a,g)},Ms.layout.tree=function(){function d(o,c){var i=u.call(this,o,c),f=i[0],s=x(f);if(ui(s,t),s.parent.m=-s.z,ii(s,e),l)ii(f,r);else{var h=f,p=f,g=f;ii(f,function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>g.depth&&(g=e)});var v=_(h,p)/2-h.x,d=a[0]/(p.x+_(p,h)/2+v),y=a[1]/(g.depth||1);ii(f,function(e){e.x=(e.x+v)*d,e.y=e.depth*y})}return i}function x(l){for(var n,d={A:null,children:[l]},e=[d];null!=(n=e.pop());)for(var r,i=n.children,s=0,g=i.length;g>s;++s)e.push((i[s]=r={_:i[s],parent:n,children:(r=i[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return d.children[0]}function t(a){var n=a.children,t=a.parent.children,l=a.i?t[a.i-1]:null;if(n.length){Ri(a);var r=(n[0].z+n[n.length-1].z)/2;l?(a.z=l.z+_(a._,l._),a.m=a.z-r):a.z=r}else l&&(a.z=l.z+_(a._,l._));a.parent.A=s(a,l,a.parent.A||t[0])}function e(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(a,n,t){if(n){for(var e,r=a,d=a,g=n,o=r.parent.children[0],l=r.m,p=d.m,u=g.m,s=o.m;g=qi(g),r=Li(r),g&&r;)o=Li(o),d=qi(d),d.a=a,e=g.z+u-r.z-l+_(g._,r._),0<e&&(Ti(Di(g,a,t),a,e),l+=e,p+=e),u+=g.m,l+=r.m,s+=o.m,p+=d.m;g&&!qi(d)&&(d.t=g,d.m+=u-p),r&&!Li(o)&&(o.t=r,o.m+=l-s,t=a)}return t}function r(e){e.x*=a[0],e.y=e.depth*a[1]}var u=Ms.layout.hierarchy().sort(null).value(null),_=zi,a=[1,1],l=null;return d.separation=function(e){return arguments.length?(_=e,d):_},d.size=function(e){return arguments.length?(l=null==(a=e)?r:null,d):l?null:a},d.nodeSize=function(e){return arguments.length?(l=null==(a=e)?null:r,d):l?a:null},ri(d,u)},Ms.layout.cluster=function(){function a(t,i){var u,o=d.call(this,t,i),a=o[0],l=0;ui(a,function(e){var n=e.children;n&&n.length?(e.x=Ui(n),e.y=Pi(n)):(e.x=u?l+=g(e,u):0,e.y=0,u=e)});var c=ji(a),y=Fi(a),s=c.x-g(c,y)/2,h=y.x+g(y,c)/2;return ui(a,r?function(t){t.x=(t.x-a.x)*e[0],t.y=(a.y-t.y)*e[1]}:function(t){t.x=(t.x-s)/(h-s)*e[0],t.y=(1-(a.y?t.y/a.y:1))*e[1]}),o}var d=Ms.layout.hierarchy().sort(null).value(null),g=zi,e=[1,1],r=!1;return a.separation=function(e){return arguments.length?(g=e,a):g},a.size=function(n){return arguments.length?(r=null==(e=n),a):r?null:e},a.nodeSize=function(n){return arguments.length?(r=null!=(e=n),a):r?e:null},ri(a,d)},Ms.layout.treemap=function(){function d(a,l){for(var t,e,r=-1,i=a.length;++r<i;)e=(t=a[r]).value*(0>l?0:l),t.area=isNaN(e)||0>=e?0:e}function n(i){var e=i.children;if(e&&e.length){var s,o,a,l=x(i),p=[],u=e.slice(),h=1/0,g="slice"===_?l.dx:"dice"===_?l.dy:"slice-dice"===_?1&i.depth?l.dy:l.dx:vs(l.dx,l.dy);for(d(u,l.dx*l.dy/i.value),p.area=0;0<(a=u.length);)p.push(s=u[a-1]),p.area+=s.area,"squarify"!==_||(o=t(p,g))<=h?(u.pop(),h=o):(p.area-=p.pop().area,r(p,g,l,!1),g=vs(l.dx,l.dy),p.length=p.area=0,h=1/0);p.length&&(r(p,g,l,!0),p.length=p.area=0),e.forEach(n)}}function y(e){var t=e.children;if(t&&t.length){var n,i=x(e),o=t.slice(),a=[];for(d(o,i.dx*i.dy/e.value),a.area=0;n=o.pop();)a.push(n),a.area+=n.area,null!=n.z&&(r(a,n.z?i.dx:i.dy,i,!o.length),a.length=a.area=0);t.forEach(y)}}function t(l,n){for(var t,e=l.area,d=0,i=1/0,s=-1,o=l.length;++s<o;)(t=l[s].area)&&(i>t&&(i=t),t>d&&(d=t));return e*=e,n*=n,e?bs(n*d*p/e,e/(n*i*p)):1/0}function r(l,n,t,e){var r,d=-1,s=l.length,o=t.x,a=t.y,g=n?m(l.area/n):0;if(n==t.dx){for((e||g>t.dy)&&(g=t.dy);++d<s;)r=l[d],r.x=o,r.y=a,r.dy=g,o+=r.dx=vs(t.x+t.dx-o,g?m(r.area/g):0);r.z=!0,r.dx+=t.x+t.dx-o,t.y+=g,t.dy-=g}else{for((e||g>t.dx)&&(g=t.dx);++d<s;)r=l[d],r.x=o,r.y=a,r.dx=g,a+=r.dy=vs(t.y+t.dy-a,g?m(r.area/g):0);r.z=!1,r.dy+=t.y+t.dy-a,t.x+=g,t.dx-=g}}function i(t){var l=e||o(t),r=l[0];return r.x=r.y=0,r.value?(r.dx=a[0],r.dy=a[1]):r.dx=r.dy=0,e&&o.revalue(r),d([r],r.dx*r.dy/r.value),(e?y:n)(r),s&&(e=l),l}var e,o=Ms.layout.hierarchy(),m=Cs,a=[1,1],l=null,x=Hi,s=!1,_="squarify",p=.5*(1+2.23606797749979);return i.size=function(e){return arguments.length?(a=e,i):a},i.padding=function(a){function o(n){var l=a.call(i,n,n.depth);return null==l?Hi(n):Oi(n,"number"==typeof l?[l,l,l,l]:l)}function t(e){return Oi(e,a)}if(!arguments.length)return l;var e;return x=null==(l=a)?Hi:"function"==(e=typeof a)?o:"number"===e?(a=[a,a,a,a],t):t,i},i.round=function(e){return arguments.length?(m=e?Cs:Number,i):m!=Number},i.sticky=function(t){return arguments.length?(s=t,e=null,i):s},i.ratio=function(e){return arguments.length?(p=e,i):p},i.mode=function(e){return arguments.length?(_=e+"",i):_},ri(i,o)},Ms.random={normal:function(a,n){var t=arguments.length;return 2>t&&(n=1),1>t&&(a=0),function(){var t,e,l;do t=2*Math.random()-1,e=2*Math.random()-1,l=t*t+e*e;while(!l||1<l);return a+n*t*ws(-2*_s(l)/l)}},logNormal:function(){var e=Ms.random.normal.apply(Ms,arguments);return function(){return zs(e())}},bates:function(e){var n=Ms.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(a){return function(){for(var n=0,t=0;a>t;t++)n+=Math.random();return n}}},Ms.scale={};var wl={floor:Pr,ceil:Pr};Ms.scale.linear=function(){return Bi([0,1],[0,1],mr,!1)};var Sl={s:1,g:1,p:1,r:1,e:1};Ms.scale.log=function(){return Sd(Ms.scale.linear().domain([0,1]),10,!0,[1,10])};var kl=Ms.format(".0e"),Nl={floor:function(e){return-fs(-e)},ceil:function(e){return-hs(-e)}};Ms.scale.pow=function(){return wd(Ms.scale.linear(),1,[0,1])},Ms.scale.sqrt=function(){return Ms.scale.pow().exponent(.5)},Ms.scale.ordinal=function(){return kd([],{t:"range",a:[[]]})},Ms.scale.category10=function(){return Ms.scale.ordinal().range(El)},Ms.scale.category20=function(){return Ms.scale.ordinal().range(Al)},Ms.scale.category20b=function(){return Ms.scale.ordinal().range(Cl)},Ms.scale.category20c=function(){return Ms.scale.ordinal().range(zl)};var El=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(fn),Al=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(fn),Cl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(fn),zl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(fn);Ms.scale.quantile=function(){return Cd([],[])},Ms.scale.quantize=function(){return Ad(0,1,[0,1])},Ms.scale.threshold=function(){return zd([0.5],[0,1])},Ms.scale.identity=function(){return Ld([0,1])},Ms.svg={},Ms.svg.arc=function(){function d(){var t=bs(0,+B.apply(this,arguments)),l=bs(0,+e.apply(this,arguments)),c=u.apply(this,arguments)-Ho,f=o.apply(this,arguments)-Ho,s=oo(f-c),h=c>f?0:1;if(t>l&&(p=l,l=t,t=p),s>=js-Po)return X(l,h)+(t?X(t,1-h):"")+"Z";var p,g,v,d,y,m,M,x,b,_,w,S,k=0,N=0,E=[];if((d=(+a.apply(this,arguments)||0)/2)&&(v=i===Ll?ws(t*t+l*l):+i.apply(this,arguments),h||(N*=-1),l&&(N=Q(v/l*As(d))),t&&(k=Q(v/t*As(d)))),l){y=l*ks(c+N),m=l*As(c+N),M=l*ks(f-N),x=l*As(f-N);var A=oo(f-c-2*N)<=Ps?0:1;if(N&&jd(y,m,M,x)===h^A){var C=(c+f)/2;y=l*ks(C),m=l*As(C),M=x=null}}else y=m=0;if(t){b=t*ks(f-k),_=t*As(f-k),w=t*ks(c+k),S=t*As(c+k);var z=oo(c-f+2*k)<=Ps?0:1;if(k&&jd(b,_,w,S)===1-h^z){var L=(c+f)/2;b=t*ks(L),_=t*As(L),w=S=null}}else b=_=0;if(s>Po&&.001<(p=vs(oo(l-t)/2,+r.apply(this,arguments)))){g=l>t^h?0:1;var q=p,T=p;if(Ps>s){var W=null==w?[b,_]:null==M?[y,m]:Te([y,m],[w,S],[M,x],[b,_]),D=y-W[0],P=m-W[1],U=M-W[0],j=x-W[1],F=1/As(Ts((D*U+P*j)/(ws(D*D+P*P)*ws(U*U+j*j)))/2),H=ws(W[0]*W[0]+W[1]*W[1]);T=vs(p,(t-H)/(F-1)),q=vs(p,(l-H)/(F+1))}if(null!=M){var O=Dd(null==w?[b,_]:[w,S],[y,m],l,q,h),I=Dd([M,x],[b,_],l,q,h);p===q?E.push("M",O[0],"A",q,",",q," 0 0,",g," ",O[1],"A",l,",",l," 0 ",1-h^jd(O[1][0],O[1][1],I[1][0],I[1][1]),",",h," ",I[1],"A",q,",",q," 0 0,",g," ",I[0]):E.push("M",O[0],"A",q,",",q," 0 1,",g," ",I[0])}else E.push("M",y,",",m);if(null!=w){var Y=Dd([y,m],[w,S],t,-T,h),Z=Dd([b,_],null==M?[y,m]:[M,x],t,-T,h);p===T?E.push("L",Z[0],"A",T,",",T," 0 0,",g," ",Z[1],"A",t,",",t," 0 ",h^jd(Z[1][0],Z[1][1],Y[1][0],Y[1][1]),",",1-h," ",Y[1],"A",T,",",T," 0 0,",g," ",Y[0]):E.push("L",Z[0],"A",T,",",T," 0 0,",g," ",Y[0])}else E.push("L",b,",",_)}else E.push("M",y,",",m),null!=M&&E.push("A",l,",",l," 0 ",A,",",h," ",M,",",x),E.push("L",b,",",_),null!=w&&E.push("A",t,",",t," 0 ",z,",",1-h," ",w,",",S);return E.push("Z"),E.join("")}function X(e,a){return"M0,"+e+"A"+e+","+e+" 0 1,"+a+" 0,"+-e+"A"+e+","+e+" 0 1,"+a+" 0,"+e}var B=Md,e=Rd,r=Td,i=Ll,u=Nd,o=Ud,a=Pd;return d.innerRadius=function(e){return arguments.length?(B=kn(e),d):B},d.outerRadius=function(n){return arguments.length?(e=kn(n),d):e},d.cornerRadius=function(e){return arguments.length?(r=kn(e),d):r},d.padRadius=function(e){return arguments.length?(i=e==Ll?Ll:kn(e),d):i},d.startAngle=function(e){return arguments.length?(u=kn(e),d):u},d.endAngle=function(e){return arguments.length?(o=kn(e),d):o},d.padAngle=function(e){return arguments.length?(a=kn(e),d):a},d.centroid=function(){var a=(+B.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+u.apply(this,arguments)+ +o.apply(this,arguments))/2-Ho;return[ks(n)*a,As(n)*a]},d};var Ll="auto";Ms.svg.line=function(){return qd(Pr)};var ql=Ms.map({linear:Hd,"linear-closed":Fd,step:function(a){for(var n=0,t=a.length,e=a[0],l=[e[0],",",e[1]];++n<t;)l.push("H",(e[0]+(e=a[n])[0])/2,"V",e[1]);return 1<t&&l.push("H",e[0]),l.join("")},"step-before":Yd,"step-after":Od,basis:Vd,"basis-open":function(a){if(4>a.length)return Hd(a);for(var n,t=[],e=-1,l=a.length,r=[0],i=[0];3>++e;)n=a[e],r.push(n[0]),i.push(n[1]);for(t.push(Xd(Dl,r)+","+Xd(Dl,i)),--e;++e<l;)n=a[e],r.shift(),r.push(n[0]),i.shift(),i.push(n[1]),Bd(t,r,i);return t.join("")},"basis-closed":function(l){for(var n,t,e=-1,r=l.length,i=r+4,d=[],o=[];4>++e;)t=l[e%r],d.push(t[0]),o.push(t[1]);for(n=[Xd(Dl,d),",",Xd(Dl,o)],--e;++e<i;)t=l[e%r],d.shift(),d.push(t[0]),o.shift(),o.push(t[1]),Bd(n,d,o);return n.join("")},bundle:function(d,n){var t=d.length-1;if(t)for(var e,r,i=d[0][0],s=d[0][1],o=d[t][0]-i,a=d[t][1]-s,l=-1;++l<=t;)e=d[l],r=l/t,e[0]=n*e[0]+(1-n)*(i+r*o),e[1]=n*e[1]+(1-n)*(s+r*a);return Vd(d)},cardinal:function(e,n){return 3>e.length?Hd(e):e[0]+Id(e,Zd(e,n))},"cardinal-open":function(e,n){return 4>e.length?Hd(e):e[1]+Id(e.slice(1,-1),Zd(e,n))},"cardinal-closed":function(e,n){return 3>e.length?Fd(e):e[0]+Id((e.push(e[0]),e),Zd([e[e.length-2]].concat(e,[e[1]]),n))},monotone:function(e){return 3>e.length?Hd(e):e[0]+Id(e,Gd(e))}});ql.forEach(function(e,n){n.key=e,n.closed=/-closed$/.test(e)});var Tl=[0,0.6666666666666666,0.3333333333333333,0],Rl=[0,0.3333333333333333,0.6666666666666666,0],Dl=[0,0.16666666666666666,0.6666666666666666,0.16666666666666666];Ms.svg.line.radial=function(){var e=qd(Jd);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Yd.reverse=Od,Od.reverse=Yd,Ms.svg.area=function(){return Qd(Pr)},Ms.svg.area.radial=function(){var e=Qd(Jd);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Ms.svg.chord=function(){function d(o,d){var a=s(this,i,o,d),l=s(this,g,o,d);return"M"+a.p0+e(a.r,a.p1,a.a1-a.a0)+(t(a,l)?r(a.r,a.p1,a.r,a.p0):r(a.r,a.p1,l.r,l.p0)+e(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,a.r,a.p0))+"Z"}function s(d,n,s,e){var r=n.call(d,s,e),i=p.call(d,r,e),g=a.call(d,r,e)-Ho,h=l.call(d,r,e)-Ho;return{r:i,a0:g,a1:h,p0:[i*ks(g),i*As(g)],p1:[i*ks(h),i*As(h)]}}function t(e,n){return e.a0==n.a0&&e.a1==n.a1}function e(a,n,t){return"A"+a+","+a+" 0 "+ +(t>Ps)+",1 "+n}function r(a,n,t,e){return"Q 0,0 "+e}var i=me,g=Me,p=Kd,a=Nd,l=Ud;return d.radius=function(e){return arguments.length?(p=kn(e),d):p},d.source=function(e){return arguments.length?(i=kn(e),d):i},d.target=function(e){return arguments.length?(g=kn(e),d):g},d.startAngle=function(e){return arguments.length?(a=kn(e),d):a},d.endAngle=function(e){return arguments.length?(l=kn(e),d):l},d},Ms.svg.diagonal=function(){function a(t,r){var i=d.call(this,t,r),g=s.call(this,t,r),o=(i.y+g.y)/2,p=[i,{x:i.x,y:o},{x:g.x,y:o},g];return p=p.map(e),"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3]}var d=me,s=Me,e=es;return a.source=function(t){return arguments.length?(d=kn(t),a):d},a.target=function(e){return arguments.length?(s=kn(e),a):s},a.projection=function(n){return arguments.length?(e=n,a):e},a},Ms.svg.diagonal.radial=function(){var a=Ms.svg.diagonal(),l=es,t=a.projection;return a.projection=function(e){return arguments.length?t(ts(l=e)):l},a},Ms.svg.symbol=function(){function a(e,t){return(Pl.get(l.call(this,e,t))||ls)(i.call(this,e,t))}var l=as,i=ns;return a.type=function(t){return arguments.length?(l=kn(t),a):l},a.size=function(e){return arguments.length?(i=kn(e),a):i},a};var Pl=Ms.map({circle:ls,cross:function(e){var n=ws(e/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(a){var n=ws(a/(2*jl)),l=n*jl;return"M0,"+-n+"L"+l+",0 0,"+n+" "+-l+",0Z"},square:function(e){var n=ws(e)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(a){var n=ws(a/Ul),l=n*Ul/2;return"M0,"+l+"L"+n+","+-l+" "+-n+","+-l+"Z"},"triangle-up":function(a){var n=ws(a/Ul),l=n*Ul/2;return"M0,"+-l+"L"+n+","+l+" "+-n+","+l+"Z"}});Ms.svg.symbolTypes=Pl.keys();var Ul=1.7320508075688772,jl=cs(30*Ds);Ao.transition=function(d){for(var n,t,e=Fl||++Yl,r=ss(d),i=[],g=Hl||{time:Date.now(),ease:kr,delay:0,duration:250},o=-1,a=this.length;++o<a;){i.push(n=[]);for(var l=this[o],p=-1,h=l.length;++p<h;)(t=l[p])&&gs(t,p,r,e,g),n.push(t)}return is(i,r,e)},Ao.interrupt=function(e){return this.each(null==e?Ol:rs(ss(e)))};var Fl,Hl,Ol=rs(ss()),Il=[],Yl=0;Il.call=Ao.call,Il.empty=Ao.empty,Il.node=Ao.node,Il.size=Ao.size,Ms.transition=function(e,n){return e&&e.transition?Fl?e.transition(n):e:Ms.selection().transition(e)},Ms.transition.prototype=Il,Il.select=function(d){var n,t,e,r=this.id,i=this.namespace,g=[];d=E(d);for(var o=-1,a=this.length;++o<a;){g.push(n=[]);for(var l=this[o],p=-1,h=l.length;++p<h;)(e=l[p])&&(t=d.call(e,e.__data__,p,o))?("__data__"in e&&(t.__data__=e.__data__),gs(t,p,i,r,e[i][r]),n.push(t)):n.push(null)}return is(g,i,r)},Il.selectAll=function(d){var n,t,e,r,i,u=this.id,o=this.namespace,a=[];d=A(d);for(var l=-1,c=this.length;++l<c;)for(var y=this[l],s=-1,h=y.length;++s<h;)if(e=y[s]){i=e[o][u],t=d.call(e,e.__data__,s,l),a.push(n=[]);for(var p=-1,g=t.length;++p<g;)(r=t[p])&&gs(r,p,o,u,i),n.push(r)}return is(a,o,u)},Il.filter=function(d){var s,t,e,r=[];"function"!=typeof d&&(d=q(d));for(var i=0,g=this.length;g>i;i++){r.push(s=[]);for(var t=this[i],o=0,a=t.length;a>o;o++)(e=t[o])&&d.call(e,e.__data__,o,i)&&s.push(e)}return is(r,this.namespace,this.id)},Il.tween=function(a,n){var l=this.id,e=this.namespace;return 2>arguments.length?this.node()[e][l].tween.get(a):F(this,null==n?function(n){n[e][l].tween.remove(a)}:function(t){t[e][l].tween.set(a,n)})},Il.attr=function(l,n){function t(){this.removeAttribute(i)}function e(){this.removeAttributeNS(i.space,i.local)}if(2>arguments.length){for(n in l)this.attr(n,l[n]);return this}var r="transform"==l?Xr:mr,i=Ms.ns.qualify(l);return os(this,"attr."+l,n,i.local?function(a){return null==a?e:(a+="",function(){var l,t=this.getAttributeNS(i.space,i.local);return t!==a&&(l=r(t,a),function(e){this.setAttributeNS(i.space,i.local,l(e))})})}:function(a){return null==a?t:(a+="",function(){var l,t=this.getAttribute(i);return t!==a&&(l=r(t,a),function(e){this.setAttribute(i,l(e))})})})},Il.attrTween=function(a,l){function t(t,n){var a=l.call(this,t,n,this.getAttribute(o));return a&&function(e){this.setAttribute(o,a(e))}}function e(t,n){var e=l.call(this,t,n,this.getAttributeNS(o.space,o.local));return e&&function(t){this.setAttributeNS(o.space,o.local,e(t))}}var o=Ms.ns.qualify(a);return this.tween("attr."+a,o.local?e:t)},Il.style=function(a,t,e){function l(){this.style.removeProperty(a)}var r=arguments.length;if(3>r){if("string"!=typeof a){for(e in 2>r&&(t=""),a)this.style(e,a[e],t);return this}e=""}return os(this,"style."+a,t,function(t){return null==t?l:(t+="",function(){var n,l=jt(this).getComputedStyle(this,null).getPropertyValue(a);return l!==t&&(n=mr(l,t),function(l){this.style.setProperty(a,n(l),e)})})})},Il.styleTween=function(a,t,e){function n(n,l){var r=t.call(this,n,l,jt(this).getComputedStyle(this,null).getPropertyValue(a));return r&&function(n){this.style.setProperty(a,r(n),e)}}return 3>arguments.length&&(e=""),this.tween("style."+a,n)},Il.text=function(e){return os(this,"text",e,ds)},Il.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var n;2>this[e].count&&(n=this.parentNode)&&n.removeChild(this)})},Il.ease=function(a){var l=this.id,t=this.namespace;return 1>arguments.length?this.node()[t][l].ease:("function"!=typeof a&&(a=Ms.ease.apply(Ms,arguments)),F(this,function(e){e[t][l].ease=a}))},Il.delay=function(a){var l=this.id,t=this.namespace;return 1>arguments.length?this.node()[t][l].delay:F(this,"function"==typeof a?function(e,n,r){e[t][l].delay=+a.call(e,e.__data__,n,r)}:(a=+a,function(e){e[t][l].delay=a}))},Il.duration=function(a){var l=this.id,t=this.namespace;return 1>arguments.length?this.node()[t][l].duration:F(this,"function"==typeof a?function(e,n,r){e[t][l].duration=bs(1,a.call(e,e.__data__,n,r))}:(a=bs(1,a),function(e){e[t][l].duration=a}))},Il.each=function(a,n){var l=this.id,e=this.namespace;if(2>arguments.length){var t=Hl,r=Fl;try{Fl=l,F(this,function(n,t,r){Hl=n[e][l],a.call(n,n.__data__,t,r)})}finally{Hl=t,Fl=r}}else F(this,function(t){var r=t[e][l];(r.event||(r.event=Ms.dispatch("start","end","interrupt"))).on(a,n)});return this},Il.transition=function(){for(var d,n,t,e,r=this.id,i=++Yl,g=this.namespace,o=[],a=0,l=this.length;l>a;a++){o.push(d=[]);for(var n=this[a],p=0,h=n.length;h>p;p++)(t=n[p])&&(e=t[g][r],gs(t,p,g,i,{time:e.time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration})),d.push(t)}return is(o,g,i)},Ms.svg.axis=function(){function d(l){l.each(function(){var l,n=Ms.select(this),o=this.__chart__||U,c=this.__chart__=U.copy(),s=null==a?c.ticks?c.ticks.apply(c,t):c.domain():a,h=null==m?c.tickFormat?c.tickFormat.apply(c,t):Pr:m,p=n.selectAll(".tick").data(s,c),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Po),f=Ms.transition(p.exit()).style("opacity",Po).remove(),d=Ms.transition(p.order()).style("opacity",1),y=bs(r,0)+u,v=Yi(c),x=n.selectAll(".domain").data([0]),b=(x.enter().append("path").attr("class","domain"),Ms.transition(x));g.append("line"),g.append("text");var _,w,S,k,M=g.select("line"),E=d.select("line"),A=p.select("text").text(h),C=g.select("text"),z=d.select("text"),L="top"===e||"left"===e?-1:1;if("bottom"===e||"top"===e?(l=ps,_="x",S="y",w="x2",k="y2",A.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+v[0]+","+L*i+"V0H"+v[1]+"V"+L*i)):(l=no,_="y",S="x",w="y2",k="x2",A.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),b.attr("d","M"+L*i+","+v[0]+"H0V"+v[1]+"H"+L*i)),M.attr(k,L*r),C.attr(S,L*y),E.attr(w,0).attr(k,L*r),z.attr(_,0).attr(S,L*y),c.rangeBand){var N=c,T=N.rangeBand()/2;o=c=function(e){return N(e)+T}}else o.rangeBand?o=c:f.call(l,c,o);g.call(l,o,c),d.call(l,c,c)})}var m,U=Ms.scale.linear(),e=Zl,r=6,i=6,u=3,t=[10],a=null;return d.scale=function(e){return arguments.length?(U=e,d):U},d.orient=function(n){return arguments.length?(e=n in Vl?n+"":Zl,d):e},d.ticks=function(){return arguments.length?(t=lo(arguments),d):t},d.tickValues=function(e){return arguments.length?(a=e,d):a},d.tickFormat=function(t){return arguments.length?(m=t,d):m},d.tickSize=function(n){var a=arguments.length;return a?(r=+n,i=+arguments[a-1],d):r},d.innerTickSize=function(e){return arguments.length?(r=+e,d):r},d.outerTickSize=function(e){return arguments.length?(i=+e,d):i},d.tickPadding=function(e){return arguments.length?(u=+e,d):u},d.tickSubdivide=function(){return arguments.length&&d},d};var Zl="bottom",Vl={top:1,right:1,bottom:1,left:1};Ms.svg.brush=function(){function y(a){a.each(function(){var i=Ms.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",n).on("touchstart.brush",n),t=i.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=i.selectAll(".resize").data(g,Pr);o.exit().remove(),o.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Xl[e]}).append("rect").attr("x",function(e){return /[ew]$/.test(e)?-3:null}).attr("y",function(e){return /^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",y.empty()?"none":null);var a,l=Ms.transition(i),s=Ms.transition(t);S&&(a=Yi(S),s.attr("x",a[0]).attr("width",a[1]-a[0]),e(l)),U&&(a=Yi(U),s.attr("y",a[0]).attr("height",a[1]-a[0]),r(l)),d(l)})}function d(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+P[+/e$/.test(e)]+","+j[+/^s/.test(e)]+")"})}function e(e){e.select(".extent").attr("x",P[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",P[1]-P[0])}function r(e){e.select(".extent").attr("y",j[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",j[1]-j[0])}function n(){function t(){var i=Ms.mouse(s),n=!1;l&&(i[0]+=l[0],i[1]+=l[1]),b||(Ms.event.altKey?(o||(o=[(P[0]+P[1])/2,(j[0]+j[1])/2]),k[0]=P[+(i[0]<o[0])],k[1]=j[+(i[1]<o[1])]):o=null),f&&a(i,S,0)&&(e(u),n=!0),v&&a(i,U,1)&&(r(u),n=!0),n&&(d(u),h({type:"brush",mode:b?"move":"resize"}))}function a(a,n,t){var e,r,i=Yi(n),s=i[0],l=i[1],g=k[t],h=t?j:P,u=h[1]-h[0];return b&&(s-=g,l-=u+g),e=(t?p:_)?bs(s,vs(l,a[t])):a[t],b?r=(e+=g)+u:(o&&(g=bs(s,vs(l,2*o[t]-e))),e>g?(r=e,e=g):r=g),h[0]!=e||h[1]!=r?(t?x=null:m=null,h[0]=e,h[1]=r,!0):void 0}function n(){t(),u.style("pointer-events","all").selectAll(".resize").style("display",y.empty()?"none":null),Ms.select("body").style("cursor",null),C.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),h({type:"brushend"})}var o,l,s=this,g=Ms.select(Ms.event.target),h=i.of(s,arguments),u=Ms.select(s),c=g.datum(),f=!/^(n|s)$/.test(c)&&S,v=!/^(e|w)$/.test(c)&&U,b=g.classed("extent"),E=X(s),k=Ms.mouse(s),C=Ms.select(jt(s)).on("keydown.brush",function(){32==Ms.event.keyCode&&(b||(o=null,k[0]-=P[1],k[1]-=j[1],b=2),w())}).on("keyup.brush",function(){32==Ms.event.keyCode&&2==b&&(k[0]+=P[1],k[1]+=j[1],b=0,w())});if(Ms.event.changedTouches?C.on("touchmove.brush",t).on("touchend.brush",n):C.on("mousemove.brush",t).on("mouseup.brush",n),u.interrupt().selectAll("*").interrupt(),b)k[0]=P[0]-k[0],k[1]=j[0]-k[1];else if(c){var A=+/w$/.test(c),z=+/^n/.test(c);l=[P[1-A]-k[0],j[1-z]-k[1]],k[0]=P[A],k[1]=j[z]}else Ms.event.altKey&&(o=k.slice());u.style("pointer-events","none").selectAll(".resize").style("display",null),Ms.select("body").style("cursor",g.style("cursor")),h({type:"brushstart"}),t()}var m,x,i=Dr(y,"brushstart","brush","brushend"),S=null,U=null,P=[0,0],j=[0,0],_=!0,p=!0,g=$l[0];return y.event=function(e){e.each(function(){var l=i.of(this,arguments),n={x:P,y:j,i:m,j:x},t=this.__chart__||n;this.__chart__=n,Fl?Ms.select(this).transition().each("start.brush",function(){m=t.i,x=t.j,P=t.x,j=t.y,l({type:"brushstart"})}).tween("brush:brush",function(){var t=Mr(P,n.x),e=Mr(j,n.y);return m=x=null,function(a){P=n.x=t(a),j=n.y=e(a),l({type:"brush",mode:"resize"})}}).each("end.brush",function(){m=n.i,x=n.j,l({type:"brush",mode:"resize"}),l({type:"brushend"})}):(l({type:"brushstart"}),l({type:"brush",mode:"resize"}),l({type:"brushend"}))})},y.x=function(e){return arguments.length?(S=e,g=$l[!S<<1|!U],y):S},y.y=function(e){return arguments.length?(U=e,g=$l[!S<<1|!U],y):U},y.clamp=function(e){return arguments.length?(S&&U?(_=!!e[0],p=!!e[1]):S?_=!!e:U&&(p=!!e),y):S&&U?[_,p]:S?_:U?p:null},y.extent=function(n){var t,e,a,r,i;return arguments.length?(S&&(t=n[0],e=n[1],U&&(t=t[0],e=e[0]),m=[t,e],S.invert&&(t=S(t),e=S(e)),t>e&&(i=t,t=e,e=i),t==P[0]&&e==P[1]||(P=[t,e])),U&&(a=n[0],r=n[1],S&&(a=a[1],r=r[1]),x=[a,r],U.invert&&(a=U(a),r=U(r)),a>r&&(i=a,a=r,r=i),a==j[0]&&r==j[1]||(j=[a,r])),y):(S&&(m?(t=m[0],e=m[1]):(t=P[0],e=P[1],S.invert&&(t=S.invert(t),e=S.invert(e)),t>e&&(i=t,t=e,e=i))),U&&(x?(a=x[0],r=x[1]):(a=j[0],r=j[1],U.invert&&(a=U.invert(a),r=U.invert(r)),a>r&&(i=a,a=r,r=i))),S&&U?[[t,a],[e,r]]:S?[t,e]:U&&[a,r])},y.clear=function(){return y.empty()||(P=[0,0],j=[0,0],m=x=null),y},y.empty=function(){return!!S&&P[0]==P[1]||!!U&&j[0]==j[1]},Ms.rebind(y,i,"on")};var Xl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$l=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Bl=pa.format=Ma.timeFormat,Wl=Bl.utc,Jl=Wl("%Y-%m-%dT%H:%M:%S.%LZ");Bl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?to:Jl,to.parse=function(e){var n=new Date(e);return isNaN(n)?null:n},to.toString=Jl.toString,pa.second=qn(function(e){return new ga(1e3*hs(e/1e3))},function(e,n){e.setTime(e.getTime()+1e3*hs(n))},function(e){return e.getSeconds()}),pa.seconds=pa.second.range,pa.seconds.utc=pa.second.utc.range,pa.minute=qn(function(e){return new ga(6e4*hs(e/6e4))},function(e,n){e.setTime(e.getTime()+6e4*hs(n))},function(e){return e.getMinutes()}),pa.minutes=pa.minute.range,pa.minutes.utc=pa.minute.utc.range,pa.hour=qn(function(e){var n=e.getTimezoneOffset()/60;return new ga(36e5*(hs(e/36e5-n)+n))},function(e,n){e.setTime(e.getTime()+36e5*hs(n))},function(e){return e.getHours()}),pa.hours=pa.hour.range,pa.hours.utc=pa.hour.utc.range,pa.month=qn(function(e){return e=pa.day(e),e.setDate(1),e},function(e,n){e.setMonth(e.getMonth()+n)},function(e){return e.getMonth()}),pa.months=pa.month.range,pa.months.utc=pa.month.utc.range;var Gl=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],Kl=[[pa.second,1],[pa.second,5],[pa.second,15],[pa.second,30],[pa.minute,1],[pa.minute,5],[pa.minute,15],[pa.minute,30],[pa.hour,1],[pa.hour,3],[pa.hour,6],[pa.hour,12],[pa.day,1],[pa.day,2],[pa.week,1],[pa.month,1],[pa.month,3],[pa.year,1]],Ql=Bl.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Ct]]),Os={range:function(a,n,l){return Ms.range(fs(a/l)*l,+n,l).map(ro)},floor:Pr,ceil:Pr};Kl.year=pa.year,pa.scale=function(){return eo(Ms.scale.linear(),Kl,Ql)};var Is=Kl.map(function(e){return[e[0].utc,e[1]]}),Zs=Wl.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Ct]]);Is.year=pa.year.utc,pa.scale.utc=function(){return eo(Ms.scale.linear(),Is,Zs)},Ms.text=En(function(e){return e.responseText}),Ms.json=function(e,n){return An(e,"application/json",io,n)},Ms.html=function(e,n){return An(e,"text/html",uo,n)},Ms.xml=En(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=Ms,define(Ms)):"object"==typeof module&&module.exports?module.exports=Ms:this.d3=Ms}();